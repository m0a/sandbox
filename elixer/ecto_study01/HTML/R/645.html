<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>model</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.2' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/56.html#L221'>model</a>             221 deps/ecto/integration_test/cases/repo.exs     assert changeset.model.__meta__.state == :built</span>
<span class='curline'><a href='../S/56.html#L235'>model</a>             235 deps/ecto/integration_test/cases/repo.exs     assert changeset.model.__meta__.state == :built</span>
<span class='curline'><a href='../S/56.html#L691'>model</a>             691 deps/ecto/integration_test/cases/repo.exs     assert changeset.model.__struct__ == Post</span>
<span class='curline'><a href='../S/66.html#L49'>model</a>              49 deps/ecto/integration_test/support/models.exs   def changeset(model, params) do</span>
<span class='curline'><a href='../S/66.html#L50'>model</a>              50 deps/ecto/integration_test/support/models.exs     cast(model, params, [], ~w(counter title text temp public cost visits</span>
<span class='curline'><a href='../S/134.html#L467'>model</a>             467 deps/ecto/lib/ecto.ex   def build_assoc(%{__struct__: model} = struct, assoc, attributes \\ %{}) do</span>
<span class='curline'><a href='../S/134.html#L468'>model</a>             468 deps/ecto/lib/ecto.ex     assoc = Ecto.Association.association_from_model!(model, assoc)</span>
<span class='curline'><a href='../S/134.html#L497'>model</a>             497 deps/ecto/lib/ecto.ex     model = hd(structs).__struct__</span>
<span class='curline'><a href='../S/134.html#L499'>model</a>             499 deps/ecto/lib/ecto.ex       Ecto.Association.association_from_model!(model, assoc)</span>
<span class='curline'><a href='../S/134.html#L503'>model</a>             503 deps/ecto/lib/ecto.ex         assert_struct!(model, struct),</span>
<span class='curline'><a href='../S/134.html#L542'>model</a>             542 deps/ecto/lib/ecto.ex   def put_meta(model, opts) do</span>
<span class='curline'><a href='../S/134.html#L543'>model</a>             543 deps/ecto/lib/ecto.ex     update_in model.__meta__, &amp;update_meta(opts, &amp;1)</span>
<span class='curline'><a href='../S/134.html#L574'>model</a>             574 deps/ecto/lib/ecto.ex   defp assert_struct!(model, %{__struct__: struct}) do</span>
<span class='curline'><a href='../S/134.html#L575'>model</a>             575 deps/ecto/lib/ecto.ex     if struct != model do</span>
<span class='curline'><a href='../S/134.html#L577'>model</a>             577 deps/ecto/lib/ecto.ex                            "got: #{inspect model} and #{inspect struct}"</span>
<span class='curline'><a href='../S/75.html#L161'>model</a>             161 deps/ecto/lib/ecto/adapters/mysql.ex   def insert(_repo, %{model: model}, _params, _autogen, [_|_] = returning, _opts) do</span>
<span class='curline'><a href='../S/75.html#L163'>model</a>             163 deps/ecto/lib/ecto/adapters/mysql.ex                          "The following fields in #{inspect model} are tagged as such: #{inspect returning}"</span>
<span class='curline'><a href='../S/74.html#L306'>model</a>             306 deps/ecto/lib/ecto/adapters/mysql/connection.ex       {table, name, model} = elem(sources, idx)</span>
<span class='curline'><a href='../S/74.html#L307'>model</a>             307 deps/ecto/lib/ecto/adapters/mysql/connection.ex       unless model do</span>
<span class='curline'><a href='../S/74.html#L313'>model</a>             313 deps/ecto/lib/ecto/adapters/mysql/connection.ex       fields = model.__schema__(:fields)</span>
<span class='curline'><a href='../S/74.html#L447'>model</a>             447 deps/ecto/lib/ecto/adapters/mysql/connection.ex           {table, model} -&gt;</span>
<span class='curline'><a href='../S/74.html#L449'>model</a>             449 deps/ecto/lib/ecto/adapters/mysql/connection.ex             {quote_table(prefix, table), name, model}</span>
<span class='curline'><a href='../S/76.html#L378'>model</a>             378 deps/ecto/lib/ecto/adapters/postgres/connection.ex       {table, name, model} = elem(sources, idx)</span>
<span class='curline'><a href='../S/76.html#L379'>model</a>             379 deps/ecto/lib/ecto/adapters/postgres/connection.ex       unless model do</span>
<span class='curline'><a href='../S/76.html#L385'>model</a>             385 deps/ecto/lib/ecto/adapters/postgres/connection.ex       fields = model.__schema__(:fields)</span>
<span class='curline'><a href='../S/76.html#L523'>model</a>             523 deps/ecto/lib/ecto/adapters/postgres/connection.ex           {table, model} -&gt;</span>
<span class='curline'><a href='../S/76.html#L525'>model</a>             525 deps/ecto/lib/ecto/adapters/postgres/connection.ex             {quote_table(prefix, table), name, model}</span>
<span class='curline'><a href='../S/81.html#L91'>model</a>              91 deps/ecto/lib/ecto/adapters/sql.ex         Ecto.Adapters.SQL.model(repo, @conn, sql, values, returning, opts)</span>
<span class='curline'><a href='../S/81.html#L99'>model</a>              99 deps/ecto/lib/ecto/adapters/sql.ex         Ecto.Adapters.SQL.model(repo, @conn, sql, values1 ++ values2, returning, opts)</span>
<span class='curline'><a href='../S/81.html#L106'>model</a>             106 deps/ecto/lib/ecto/adapters/sql.ex         Ecto.Adapters.SQL.model(repo, @conn, sql, values, [], opts)</span>
<span class='curline'><a href='../S/81.html#L505'>model</a>             505 deps/ecto/lib/ecto/adapters/sql.ex         {_source, model} = elem(sources, idx)</span>
<span class='curline'><a href='../S/81.html#L506'>model</a>             506 deps/ecto/lib/ecto/adapters/sql.ex         {field, length(model.__schema__(:fields))}</span>
<span class='curline'><a href='../S/83.html#L111'>model</a>             111 deps/ecto/lib/ecto/association.ex   def association_from_model!(model, assoc) do</span>
<span class='curline'><a href='../S/83.html#L112'>model</a>             112 deps/ecto/lib/ecto/association.ex     model.__schema__(:association, assoc) ||</span>
<span class='curline'><a href='../S/83.html#L113'>model</a>             113 deps/ecto/lib/ecto/association.ex       raise ArgumentError, "model #{inspect model} does not have association #{inspect assoc}"</span>
<span class='curline'><a href='../S/83.html#L193'>model</a>             193 deps/ecto/lib/ecto/association.ex   def related_from_query({source, model}) when is_binary(source) and is_atom(model), do: model</span>
<span class='curline'><a href='../S/83.html#L205'>model</a>             205 deps/ecto/lib/ecto/association.ex   def merge_source(model, query)</span>
<span class='curline'><a href='../S/83.html#L375'>model</a>             375 deps/ecto/lib/ecto/association.ex   defp check_action!(:delete, :insert, %{related: model}),</span>
<span class='curline'><a href='../S/83.html#L376'>model</a>             376 deps/ecto/lib/ecto/association.ex     do: raise(ArgumentError, "got action :delete in changeset for associated #{inspect model} while inserting")</span>
<span class='curline'><a href='../S/85.html#L234'>model</a>             234 deps/ecto/lib/ecto/changeset.ex       get_changed(changeset.model, types, changes, new_changes,</span>
<span class='curline'><a href='../S/85.html#L239'>model</a>             239 deps/ecto/lib/ecto/changeset.ex   def change(%{__struct__: struct} = model, changes) when is_map(changes) or is_list(changes) do</span>
<span class='curline'><a href='../S/85.html#L242'>model</a>             242 deps/ecto/lib/ecto/changeset.ex       get_changed(model, types, %{}, changes, [], true)</span>
<span class='curline'><a href='../S/85.html#L243'>model</a>             243 deps/ecto/lib/ecto/changeset.ex     %Changeset{valid?: valid?, model: model, changes: changes,</span>
<span class='curline'><a href='../S/85.html#L247'>model</a>             247 deps/ecto/lib/ecto/changeset.ex   defp get_changed(model, types, old_changes, new_changes, errors, valid?) do</span>
<span class='curline'><a href='../S/85.html#L250'>model</a>             250 deps/ecto/lib/ecto/changeset.ex         put_change(model, changes, errors, valid?, key, value, Map.get(types, key))</span>
<span class='curline'><a href='../S/85.html#L255'>model</a>             255 deps/ecto/lib/ecto/changeset.ex   def cast(model, params, required) do</span>
<span class='curline'><a href='../S/85.html#L257'>model</a>             257 deps/ecto/lib/ecto/changeset.ex     cast(model, params, required, [])</span>
<span class='curline'><a href='../S/85.html#L352'>model</a>             352 deps/ecto/lib/ecto/changeset.ex   def cast(%Changeset{changes: changes, model: model} = changeset, params, required, optional) do</span>
<span class='curline'><a href='../S/85.html#L353'>model</a>             353 deps/ecto/lib/ecto/changeset.ex     new_changeset = cast(model, changes, params, required, optional)</span>
<span class='curline'><a href='../S/85.html#L357'>model</a>             357 deps/ecto/lib/ecto/changeset.ex   def cast(%{__struct__: _} = model, params, required, optional) do</span>
<span class='curline'><a href='../S/85.html#L358'>model</a>             358 deps/ecto/lib/ecto/changeset.ex     cast(model, %{}, params, required, optional)</span>
<span class='curline'><a href='../S/85.html#L361'>model</a>             361 deps/ecto/lib/ecto/changeset.ex   defp cast(%{__struct__: module} = model, %{} = changes, :empty, required, optional)</span>
<span class='curline'><a href='../S/85.html#L368'>model</a>             368 deps/ecto/lib/ecto/changeset.ex     %Changeset{params: nil, model: model, valid?: false, errors: [],</span>
<span class='curline'><a href='../S/85.html#L372'>model</a>             372 deps/ecto/lib/ecto/changeset.ex   defp cast(%{__struct__: module} = model, %{} = changes, %{} = params, required, optional)</span>
<span class='curline'><a href='../S/85.html#L379'>model</a>             379 deps/ecto/lib/ecto/changeset.ex                       &amp;process_param(&amp;1, :optional, params, types, model, &amp;2))</span>
<span class='curline'><a href='../S/85.html#L383'>model</a>             383 deps/ecto/lib/ecto/changeset.ex                       &amp;process_param(&amp;1, :required, params, types, model, &amp;2))</span>
<span class='curline'><a href='../S/85.html#L385'>model</a>             385 deps/ecto/lib/ecto/changeset.ex     %Changeset{params: params, model: model, valid?: valid?,</span>
<span class='curline'><a href='../S/85.html#L401'>model</a>             401 deps/ecto/lib/ecto/changeset.ex   defp process_param({key, fun}, kind, params, types, model, acc) do</span>
<span class='curline'><a href='../S/85.html#L404'>model</a>             404 deps/ecto/lib/ecto/changeset.ex     current = Map.get(model, key)</span>
<span class='curline'><a href='../S/85.html#L405'>model</a>             405 deps/ecto/lib/ecto/changeset.ex     do_process_param(key, param_key, kind, params, type, current, model, acc)</span>
<span class='curline'><a href='../S/85.html#L408'>model</a>             408 deps/ecto/lib/ecto/changeset.ex   defp process_param(key, kind, params, types, model, acc) do</span>
<span class='curline'><a href='../S/85.html#L411'>model</a>             411 deps/ecto/lib/ecto/changeset.ex     current = Map.get(model, key)</span>
<span class='curline'><a href='../S/85.html#L412'>model</a>             412 deps/ecto/lib/ecto/changeset.ex     do_process_param(key, param_key, kind, params, type, current, model, acc)</span>
<span class='curline'><a href='../S/85.html#L416'>model</a>             416 deps/ecto/lib/ecto/changeset.ex                         model, {changes, errors, valid?}) do</span>
<span class='curline'><a href='../S/85.html#L418'>model</a>             418 deps/ecto/lib/ecto/changeset.ex      case cast_field(param_key, type, params, current, model, valid?) do</span>
<span class='curline'><a href='../S/85.html#L464'>model</a>             464 deps/ecto/lib/ecto/changeset.ex   defp cast_field(param_key, {tag, relation}, params, current, model, valid?)</span>
<span class='curline'><a href='../S/85.html#L469'>model</a>             469 deps/ecto/lib/ecto/changeset.ex     current = Relation.load!(model, current)</span>
<span class='curline'><a href='../S/85.html#L560'>model</a>             560 deps/ecto/lib/ecto/changeset.ex   defp cast_relation(type, %Changeset{model: model, types: types}, _name, _opts)</span>
<span class='curline'><a href='../S/85.html#L561'>model</a>             561 deps/ecto/lib/ecto/changeset.ex       when model == nil or types == nil do</span>
<span class='curline'><a href='../S/85.html#L568'>model</a>             568 deps/ecto/lib/ecto/changeset.ex     %{model: model, types: types, params: params, changes: changes} = changeset</span>
<span class='curline'><a href='../S/85.html#L581'>model</a>             581 deps/ecto/lib/ecto/changeset.ex     current  = Relation.load!(model, Map.get(model, key))</span>
<span class='curline'><a href='../S/85.html#L663'>model</a>             663 deps/ecto/lib/ecto/changeset.ex   def merge(%Changeset{model: model} = cs1, %Changeset{model: model} = cs2) do</span>
<span class='curline'><a href='../S/85.html#L726'>model</a>             726 deps/ecto/lib/ecto/changeset.ex   def fetch_field(%Changeset{changes: changes, model: model, types: types}, key) do</span>
<span class='curline'><a href='../S/85.html#L731'>model</a>             731 deps/ecto/lib/ecto/changeset.ex         case Map.fetch(model, key) do</span>
<span class='curline'><a href='../S/85.html#L759'>model</a>             759 deps/ecto/lib/ecto/changeset.ex   def get_field(%Changeset{changes: changes, model: model, types: types}, key, default \\ nil) do</span>
<span class='curline'><a href='../S/85.html#L764'>model</a>             764 deps/ecto/lib/ecto/changeset.ex         case Map.fetch(model, key) do</span>
<span class='curline'><a href='../S/85.html#L870'>model</a>             870 deps/ecto/lib/ecto/changeset.ex       put_change(changeset.model, changeset.changes, changeset.errors,</span>
<span class='curline'><a href='../S/85.html#L875'>model</a>             875 deps/ecto/lib/ecto/changeset.ex   defp put_change(model, changes, errors, valid?, key, value, {tag, relation})</span>
<span class='curline'><a href='../S/85.html#L880'>model</a>             880 deps/ecto/lib/ecto/changeset.ex     current = Relation.load!(model, Map.get(model, key))</span>
<span class='curline'><a href='../S/85.html#L891'>model</a>             891 deps/ecto/lib/ecto/changeset.ex   defp put_change(model, changes, errors, valid?, key, value, _type) do</span>
<span class='curline'><a href='../S/85.html#L893'>model</a>             893 deps/ecto/lib/ecto/changeset.ex       Map.get(model, key) != value -&gt;</span>
<span class='curline'><a href='../S/85.html#L937'>model</a>             937 deps/ecto/lib/ecto/changeset.ex     %{model: model, types: types, changes: changes} = changeset</span>
<span class='curline'><a href='../S/85.html#L940'>model</a>             940 deps/ecto/lib/ecto/changeset.ex     current  = Relation.load!(model, Map.get(model, name))</span>
<span class='curline'><a href='../S/85.html#L977'>model</a>             977 deps/ecto/lib/ecto/changeset.ex     model = changeset.model</span>
<span class='curline'><a href='../S/85.html#L986'>model</a>             986 deps/ecto/lib/ecto/changeset.ex             Relation.change(relation, model, value, Map.get(model, key))</span>
<span class='curline'><a href='../S/85.html#L1024'>model</a>            1024 deps/ecto/lib/ecto/changeset.ex   def apply_changes(%Changeset{changes: changes, model: model}) when changes == %{} do</span>
<span class='curline'><a href='../S/85.html#L1025'>model</a>            1025 deps/ecto/lib/ecto/changeset.ex     model</span>
<span class='curline'><a href='../S/85.html#L1028'>model</a>            1028 deps/ecto/lib/ecto/changeset.ex   def apply_changes(%Changeset{changes: changes, model: model, types: types}) do</span>
<span class='curline'><a href='../S/85.html#L1039'>model</a>            1039 deps/ecto/lib/ecto/changeset.ex     struct(model, changes)</span>
<span class='curline'><a href='../S/85.html#L1484'>model</a>            1484 deps/ecto/lib/ecto/changeset.ex     current = Map.fetch!(changeset.model, field)</span>
<span class='curline'><a href='../S/85.html#L1764'>model</a>            1764 deps/ecto/lib/ecto/changeset.ex   defp get_source(%{model: model}), do:</span>
<span class='curline'><a href='../S/85.html#L1765'>model</a>            1765 deps/ecto/lib/ecto/changeset.ex     raise(ArgumentError, "cannot add constraint to model because it does not have a source, got: #{inspect model}")</span>
<span class='curline'><a href='../S/85.html#L1767'>model</a>            1767 deps/ecto/lib/ecto/changeset.ex   defp get_assoc(%{model: %{__struct__: model}}, assoc) do</span>
<span class='curline'><a href='../S/85.html#L1768'>model</a>            1768 deps/ecto/lib/ecto/changeset.ex     model.__schema__(:association, assoc) ||</span>
<span class='curline'><a href='../S/84.html#L58'>model</a>              58 deps/ecto/lib/ecto/changeset/relation.ex     %Changeset{types: types, model: model, changes: changes, action: action} = changeset</span>
<span class='curline'><a href='../S/84.html#L60'>model</a>              60 deps/ecto/lib/ecto/changeset/relation.ex     {model, changes, valid?} =</span>
<span class='curline'><a href='../S/84.html#L61'>model</a>              61 deps/ecto/lib/ecto/changeset/relation.ex       Enum.reduce(related, {model, changes, true}, fn {field, changeset}, acc -&gt;</span>
<span class='curline'><a href='../S/84.html#L67'>model</a>              67 deps/ecto/lib/ecto/changeset/relation.ex               "cannot #{action} `#{field}` in #{inspect model.__struct__}. Only embedded models, " &lt;&gt;</span>
<span class='curline'><a href='../S/84.html#L73'>model</a>              73 deps/ecto/lib/ecto/changeset/relation.ex       {:ok, %{changeset | model: model}}</span>
<span class='curline'><a href='../S/84.html#L87'>model</a>              87 deps/ecto/lib/ecto/changeset/relation.ex       {:ok, model} -&gt;</span>
<span class='curline'><a href='../S/84.html#L88'>model</a>              88 deps/ecto/lib/ecto/changeset/relation.ex         {Map.put(parent, field, model), Map.put(changes, field, changeset), valid?}</span>
<span class='curline'><a href='../S/84.html#L101'>model</a>             101 deps/ecto/lib/ecto/changeset/relation.ex           {:ok, model} -&gt;</span>
<span class='curline'><a href='../S/84.html#L102'>model</a>             102 deps/ecto/lib/ecto/changeset/relation.ex             {changeset, {[model | models], models_valid?}}</span>
<span class='curline'><a href='../S/84.html#L128'>model</a>             128 deps/ecto/lib/ecto/changeset/relation.ex       model = apply_changes(changeset),</span>
<span class='curline'><a href='../S/84.html#L129'>model</a>             129 deps/ecto/lib/ecto/changeset/relation.ex       do: model</span>
<span class='curline'><a href='../S/84.html#L144'>model</a>             144 deps/ecto/lib/ecto/changeset/relation.ex   def load!(model, %NotLoaded{__field__: field}) do</span>
<span class='curline'><a href='../S/84.html#L146'>model</a>             146 deps/ecto/lib/ecto/changeset/relation.ex       "from `#{inspect model.__struct__}` that was not loaded. Please preload your " &lt;&gt;</span>
<span class='curline'><a href='../S/84.html#L174'>model</a>             174 deps/ecto/lib/ecto/changeset/relation.ex   def cast(%{related: model} = relation, params, current) do</span>
<span class='curline'><a href='../S/84.html#L175'>model</a>             175 deps/ecto/lib/ecto/changeset/relation.ex     pks = primary_keys!(model)</span>
<span class='curline'><a href='../S/84.html#L176'>model</a>             176 deps/ecto/lib/ecto/changeset/relation.ex     param_pks = Enum.map(pks, &amp;{Atom.to_string(&amp;1), model.__schema__(:type, &amp;1)})</span>
<span class='curline'><a href='../S/84.html#L186'>model</a>             186 deps/ecto/lib/ecto/changeset/relation.ex   defp do_cast(%{related: model, on_cast: fun_name} = meta, params, nil) do</span>
<span class='curline'><a href='../S/84.html#L187'>model</a>             187 deps/ecto/lib/ecto/changeset/relation.ex     {:ok, apply(model, fun_name, [meta.__struct__.build(meta), params])</span>
<span class='curline'><a href='../S/84.html#L199'>model</a>             199 deps/ecto/lib/ecto/changeset/relation.ex   defp do_cast(%{related: model, on_cast: fun}, params, struct) do</span>
<span class='curline'><a href='../S/84.html#L200'>model</a>             200 deps/ecto/lib/ecto/changeset/relation.ex     {:ok, apply(model, fun, [struct, params])</span>
<span class='curline'><a href='../S/84.html#L215'>model</a>             215 deps/ecto/lib/ecto/changeset/relation.ex   defp do_change(%{related: model}, struct, nil) do</span>
<span class='curline'><a href='../S/84.html#L216'>model</a>             216 deps/ecto/lib/ecto/changeset/relation.ex     fields    = model.__schema__(:fields)</span>
<span class='curline'><a href='../S/84.html#L217'>model</a>             217 deps/ecto/lib/ecto/changeset/relation.ex     embeds    = model.__schema__(:embeds)</span>
<span class='curline'><a href='../S/84.html#L218'>model</a>             218 deps/ecto/lib/ecto/changeset/relation.ex     assocs    = model.__schema__(:associations)</span>
<span class='curline'><a href='../S/84.html#L220'>model</a>             220 deps/ecto/lib/ecto/changeset/relation.ex     struct    = changeset.model</span>
<span class='curline'><a href='../S/84.html#L323'>model</a>             323 deps/ecto/lib/ecto/changeset/relation.ex     {model, current, allowed_actions} =</span>
<span class='curline'><a href='../S/84.html#L325'>model</a>             325 deps/ecto/lib/ecto/changeset/relation.ex         {:ok, model} -&gt;</span>
<span class='curline'><a href='../S/84.html#L326'>model</a>             326 deps/ecto/lib/ecto/changeset/relation.ex           {model, Map.delete(current, pk_values), [:update, :delete]}</span>
<span class='curline'><a href='../S/84.html#L331'>model</a>             331 deps/ecto/lib/ecto/changeset/relation.ex     case build_changeset!(map, model, fun, allowed_actions) do</span>
<span class='curline'><a href='../S/84.html#L348'>model</a>             348 deps/ecto/lib/ecto/changeset/relation.ex   defp reduce_delete_changesets([model | rest], fun, acc, valid?, skip?) do</span>
<span class='curline'><a href='../S/84.html#L349'>model</a>             349 deps/ecto/lib/ecto/changeset/relation.ex     case build_changeset!(nil, model, fun, [:update, :delete]) do</span>
<span class='curline'><a href='../S/84.html#L400'>model</a>             400 deps/ecto/lib/ecto/changeset/relation.ex           raise "cannot #{action} related #{inspect changeset.model} " &lt;&gt;</span>
<span class='curline'><a href='../S/84.html#L408'>model</a>             408 deps/ecto/lib/ecto/changeset/relation.ex   defp get_pks(%Changeset{model: model}, pks),</span>
<span class='curline'><a href='../S/84.html#L409'>model</a>             409 deps/ecto/lib/ecto/changeset/relation.ex     do: get_pks(model, pks)</span>
<span class='curline'><a href='../S/84.html#L437'>model</a>             437 deps/ecto/lib/ecto/changeset/relation.ex     Enum.into(current, %{}, fn model -&gt;</span>
<span class='curline'><a href='../S/84.html#L438'>model</a>             438 deps/ecto/lib/ecto/changeset/relation.ex       {get_pks(model, pks), model}</span>
<span class='curline'><a href='../S/88.html#L92'>model</a>              92 deps/ecto/lib/ecto/embedded.ex   defp prepare_each(%Changeset{valid?: false}, %{related: model}, _adapter) do</span>
<span class='curline'><a href='../S/88.html#L93'>model</a>              93 deps/ecto/lib/ecto/embedded.ex     raise ArgumentError, "changeset for embedded #{model} is invalid, " &lt;&gt;</span>
<span class='curline'><a href='../S/88.html#L102'>model</a>             102 deps/ecto/lib/ecto/embedded.ex   defp prepare_each(%Changeset{model: %{__struct__: model}, action: action} = changeset,</span>
<span class='curline'><a href='../S/88.html#L103'>model</a>             103 deps/ecto/lib/ecto/embedded.ex                     %{related: model} = embed, adapter) do</span>
<span class='curline'><a href='../S/88.html#L105'>model</a>             105 deps/ecto/lib/ecto/embedded.ex     Ecto.Model.Callbacks.__apply__(model, callback, changeset)</span>
<span class='curline'><a href='../S/88.html#L106'>model</a>             106 deps/ecto/lib/ecto/embedded.ex     |&gt; autogenerate_id(action, model, embed, adapter)</span>
<span class='curline'><a href='../S/88.html#L107'>model</a>             107 deps/ecto/lib/ecto/embedded.ex     |&gt; autogenerate(action, model, adapter)</span>
<span class='curline'><a href='../S/88.html#L108'>model</a>             108 deps/ecto/lib/ecto/embedded.ex     |&gt; prepare(model.__schema__(:embeds), adapter, action)</span>
<span class='curline'><a href='../S/88.html#L111'>model</a>             111 deps/ecto/lib/ecto/embedded.ex   defp prepare_each(%Changeset{model: model}, %{related: expected}, _adapter) do</span>
<span class='curline'><a href='../S/88.html#L113'>model</a>             113 deps/ecto/lib/ecto/embedded.ex                          "got: #{inspect model}"</span>
<span class='curline'><a href='../S/88.html#L116'>model</a>             116 deps/ecto/lib/ecto/embedded.ex   defp check_action!(:update, :insert, %{related: model}),</span>
<span class='curline'><a href='../S/88.html#L117'>model</a>             117 deps/ecto/lib/ecto/embedded.ex     do: raise(ArgumentError, "got action :update in changeset for embedded #{model} while inserting")</span>
<span class='curline'><a href='../S/88.html#L118'>model</a>             118 deps/ecto/lib/ecto/embedded.ex   defp check_action!(:delete, :insert, %{related: model}),</span>
<span class='curline'><a href='../S/88.html#L119'>model</a>             119 deps/ecto/lib/ecto/embedded.ex     do: raise(ArgumentError, "got action :delete in changeset for embedded #{model} while inserting")</span>
<span class='curline'><a href='../S/88.html#L122'>model</a>             122 deps/ecto/lib/ecto/embedded.ex   defp autogenerate_id(changeset, :insert, model, embed, adapter) do</span>
<span class='curline'><a href='../S/88.html#L123'>model</a>             123 deps/ecto/lib/ecto/embedded.ex     case model.__schema__(:autogenerate_id) do</span>
<span class='curline'><a href='../S/88.html#L125'>model</a>             125 deps/ecto/lib/ecto/embedded.ex         if Map.get(changeset.changes, key) || Map.get(changeset.model, key) do</span>
<span class='curline'><a href='../S/88.html#L131'>model</a>             131 deps/ecto/lib/ecto/embedded.ex         raise ArgumentError, "embedded model `#{inspect model}` must have " &lt;&gt;</span>
<span class='curline'><a href='../S/88.html#L137'>model</a>             137 deps/ecto/lib/ecto/embedded.ex     for {_, nil} &lt;- Ecto.primary_key(changeset.model) do</span>
<span class='curline'><a href='../S/88.html#L138'>model</a>             138 deps/ecto/lib/ecto/embedded.ex       raise Ecto.NoPrimaryKeyValueError, struct: changeset.model</span>
<span class='curline'><a href='../S/88.html#L147'>model</a>             147 deps/ecto/lib/ecto/embedded.ex   defp autogenerate(%{types: types} = changeset, action, model, adapter) do</span>
<span class='curline'><a href='../S/88.html#L149'>model</a>             149 deps/ecto/lib/ecto/embedded.ex       Enum.reduce model.__schema__(:autogenerate, action), changes,</span>
<span class='curline'><a href='../S/88.html#L180'>model</a>             180 deps/ecto/lib/ecto/embedded.ex   def on_repo_action(%{field: field, related: model} = embed,</span>
<span class='curline'><a href='../S/88.html#L182'>model</a>             182 deps/ecto/lib/ecto/embedded.ex     changeset = on_repo_action(changeset, model, adapter, repo, opts)</span>
<span class='curline'><a href='../S/88.html#L194'>model</a>             194 deps/ecto/lib/ecto/embedded.ex                       model, adapter, repo, opts) do</span>
<span class='curline'><a href='../S/88.html#L196'>model</a>             196 deps/ecto/lib/ecto/embedded.ex     related  = Map.take(changes, model.__schema__(:embeds))</span>
<span class='curline'><a href='../S/88.html#L199'>model</a>             199 deps/ecto/lib/ecto/embedded.ex     Ecto.Model.Callbacks.__apply__(model, callback, changeset)</span>
<span class='curline'><a href='../S/88.html#L202'>model</a>             202 deps/ecto/lib/ecto/embedded.ex   defp maybe_replace_one!(%{cardinality: :one, related: model}, :insert, current) when current != nil do</span>
<span class='curline'><a href='../S/88.html#L204'>model</a>             204 deps/ecto/lib/ecto/embedded.ex     changeset = Ecto.Model.Callbacks.__apply__(model, :before_delete, changeset)</span>
<span class='curline'><a href='../S/88.html#L205'>model</a>             205 deps/ecto/lib/ecto/embedded.ex     Ecto.Model.Callbacks.__apply__(model, :after_delete, changeset)</span>
<span class='curline'><a href='../S/88.html#L212'>model</a>             212 deps/ecto/lib/ecto/embedded.ex     model = Changeset.apply_changes(changeset)</span>
<span class='curline'><a href='../S/88.html#L213'>model</a>             213 deps/ecto/lib/ecto/embedded.ex     put_in(model.__meta__.state, :loaded)</span>
<span class='curline'><a href='../S/89.html#L65'>model</a>              65 deps/ecto/lib/ecto/exceptions.ex     model = Keyword.fetch!(opts, :model)</span>
<span class='curline'><a href='../S/89.html#L70'>model</a>              70 deps/ecto/lib/ecto/exceptions.ex     %__MODULE__{model: model, field: field, value: value, type: type, message: msg}</span>
<span class='curline'><a href='../S/89.html#L93'>model</a>              93 deps/ecto/lib/ecto/exceptions.ex     model   = Keyword.fetch!(opts, :model)</span>
<span class='curline'><a href='../S/89.html#L94'>model</a>              94 deps/ecto/lib/ecto/exceptions.ex     message = "model `#{inspect model}` has no primary key"</span>
<span class='curline'><a href='../S/89.html#L95'>model</a>              95 deps/ecto/lib/ecto/exceptions.ex     %__MODULE__{message: message, model: model}</span>
<span class='curline'><a href='../S/89.html#L161'>model</a>             161 deps/ecto/lib/ecto/exceptions.ex     model = Keyword.fetch!(opts, :model)</span>
<span class='curline'><a href='../S/89.html#L166'>model</a>             166 deps/ecto/lib/ecto/exceptions.ex     #{inspect model}</span>
<span class='curline'><a href='../S/98.html#L61'>model</a>              61 deps/ecto/lib/ecto/model.ex   def put_source(model, new_source, new_prefix \\ nil) do</span>
<span class='curline'><a href='../S/98.html#L62'>model</a>              62 deps/ecto/lib/ecto/model.ex     put_in model.__meta__.source, {new_prefix, new_source}</span>
<span class='curline'><a href='../S/110.html#L58'>model</a>              58 deps/ecto/lib/ecto/query/builder/from.ex         model when is_atom(model) -&gt;</span>
<span class='curline'><a href='../S/110.html#L61'>model</a>              61 deps/ecto/lib/ecto/query/builder/from.ex           source = quote do: unquote(model).__schema__(:source)</span>
<span class='curline'><a href='../S/110.html#L62'>model</a>              62 deps/ecto/lib/ecto/query/builder/from.ex           {1, query(source, model)}</span>
<span class='curline'><a href='../S/110.html#L68'>model</a>              68 deps/ecto/lib/ecto/query/builder/from.ex         {source, model} when is_binary(source) -&gt;</span>
<span class='curline'><a href='../S/110.html#L69'>model</a>              69 deps/ecto/lib/ecto/query/builder/from.ex           {1, query(source, model)}</span>
<span class='curline'><a href='../S/110.html#L79'>model</a>              79 deps/ecto/lib/ecto/query/builder/from.ex   defp query(source, model) do</span>
<span class='curline'><a href='../S/110.html#L80'>model</a>              80 deps/ecto/lib/ecto/query/builder/from.ex     {:%, [], [Ecto.Query, {:%{}, [], [from: {source, model}]}]}</span>
<span class='curline'><a href='../S/120.html#L60'>model</a>              60 deps/ecto/lib/ecto/query/inspect.ex   defp unbound_from({nil, model}),  do: inspect model</span>
<span class='curline'><a href='../S/120.html#L61'>model</a>              61 deps/ecto/lib/ecto/query/inspect.ex   defp unbound_from(from = {source, model}) do</span>
<span class='curline'><a href='../S/120.html#L62'>model</a>              62 deps/ecto/lib/ecto/query/inspect.ex     inspect if(source == model.__schema__(:source), do: model, else: from)</span>
<span class='curline'><a href='../S/120.html#L76'>model</a>              76 deps/ecto/lib/ecto/query/inspect.ex   defp join(%JoinExpr{qual: qual, source: {source, model}, on: on}, name, names) do</span>
<span class='curline'><a href='../S/120.html#L77'>model</a>              77 deps/ecto/lib/ecto/query/inspect.ex     string = "#{name} in #{unbound_from {source, model}}"</span>
<span class='curline'><a href='../S/120.html#L182'>model</a>             182 deps/ecto/lib/ecto/query/inspect.ex   defp from_sources({source, model}), do: [model || source]</span>
<span class='curline'><a href='../S/120.html#L189'>model</a>             189 deps/ecto/lib/ecto/query/inspect.ex       %JoinExpr{source: {source, model}} -&gt;</span>
<span class='curline'><a href='../S/120.html#L190'>model</a>             190 deps/ecto/lib/ecto/query/inspect.ex         model || source</span>
<span class='curline'><a href='../S/121.html#L15'>model</a>              15 deps/ecto/lib/ecto/query/planner.ex   def fields(model, kind, kw, adapter) do</span>
<span class='curline'><a href='../S/121.html#L19'>model</a>              19 deps/ecto/lib/ecto/query/planner.ex     types = model.__changeset__</span>
<span class='curline'><a href='../S/121.html#L26'>model</a>              26 deps/ecto/lib/ecto/query/planner.ex           message: "field `#{inspect model}.#{field}` in `#{kind}` does not exist in the model source"</span>
<span class='curline'><a href='../S/121.html#L34'>model</a>              34 deps/ecto/lib/ecto/query/planner.ex             message: "value `#{inspect value}` for `#{inspect model}.#{field}` " &lt;&gt;</span>
<span class='curline'><a href='../S/121.html#L210'>model</a>             210 deps/ecto/lib/ecto/query/planner.ex   defp source_cache({bin, model}), do: {bin, model, model.__schema__(:hash)}</span>
<span class='curline'><a href='../S/121.html#L214'>model</a>             214 deps/ecto/lib/ecto/query/planner.ex     {model, field, type} = type_for_param!(kind, query, expr, type)</span>
<span class='curline'><a href='../S/121.html#L228'>model</a>             228 deps/ecto/lib/ecto/query/planner.ex       :error, %Ecto.QueryError{} = e when not is_nil(model) -&gt;</span>
<span class='curline'><a href='../S/121.html#L229'>model</a>             229 deps/ecto/lib/ecto/query/planner.ex         raise Ecto.CastError, model: model, field: field, value: v, type: type,</span>
<span class='curline'><a href='../S/121.html#L231'>model</a>             231 deps/ecto/lib/ecto/query/planner.ex                                        "\nError when casting value to `#{inspect model}.#{field}`"</span>
<span class='curline'><a href='../S/121.html#L288'>model</a>             288 deps/ecto/lib/ecto/query/planner.ex     {source, model} = Enum.fetch!(Enum.reverse(sources), ix)</span>
<span class='curline'><a href='../S/121.html#L290'>model</a>             290 deps/ecto/lib/ecto/query/planner.ex     unless model do</span>
<span class='curline'><a href='../S/121.html#L295'>model</a>             295 deps/ecto/lib/ecto/query/planner.ex     refl = model.__schema__(:association, assoc)</span>
<span class='curline'><a href='../S/121.html#L298'>model</a>             298 deps/ecto/lib/ecto/query/planner.ex       error! query, join, "could not find association `#{assoc}` on model #{inspect model}"</span>
<span class='curline'><a href='../S/121.html#L338'>model</a>             338 deps/ecto/lib/ecto/query/planner.ex   defp prepare_joins([%JoinExpr{source: {source, model}} = join|t],</span>
<span class='curline'><a href='../S/121.html#L339'>model</a>             339 deps/ecto/lib/ecto/query/planner.ex                      query, joins, sources, tail_sources, counter, offset) when is_atom(model) and model != nil do</span>
<span class='curline'><a href='../S/121.html#L340'>model</a>             340 deps/ecto/lib/ecto/query/planner.ex     source = if is_binary(source), do: {source, model}, else: {model.__schema__(:source), model}</span>
<span class='curline'><a href='../S/121.html#L627'>model</a>             627 deps/ecto/lib/ecto/query/planner.ex       {_, model} -&gt; type!(kind, query, expr, model, field)</span>
<span class='curline'><a href='../S/121.html#L632'>model</a>             632 deps/ecto/lib/ecto/query/planner.ex   defp type!(kind, query, expr, model, field) when is_atom(model) do</span>
<span class='curline'><a href='../S/121.html#L633'>model</a>             633 deps/ecto/lib/ecto/query/planner.ex     if type = model.__schema__(:type, field) do</span>
<span class='curline'><a href='../S/121.html#L636'>model</a>             636 deps/ecto/lib/ecto/query/planner.ex       error! query, expr, "field `#{inspect model}.#{field}` in `#{kind}` " &lt;&gt;</span>
<span class='curline'><a href='../S/121.html#L642'>model</a>             642 deps/ecto/lib/ecto/query/planner.ex     {_, model} = elem(query.sources, ix)</span>
<span class='curline'><a href='../S/121.html#L643'>model</a>             643 deps/ecto/lib/ecto/query/planner.ex     {model, field, {composite, type!(kind, query, expr, model, field)}}</span>
<span class='curline'><a href='../S/121.html#L647'>model</a>             647 deps/ecto/lib/ecto/query/planner.ex     {_, model} = elem(query.sources, ix)</span>
<span class='curline'><a href='../S/121.html#L648'>model</a>             648 deps/ecto/lib/ecto/query/planner.ex     {model, field, type!(kind, query, expr, model, field)}</span>
<span class='curline'><a href='../S/123.html#L42'>model</a>              42 deps/ecto/lib/ecto/queryable.ex   def to_query(from = {source, model}) when is_binary(source) and is_atom(model),</span>
<span class='curline'><a href='../S/129.html#L131'>model</a>             131 deps/ecto/lib/ecto/repo.ex       def insert(model, opts \\ []) do</span>
<span class='curline'><a href='../S/129.html#L132'>model</a>             132 deps/ecto/lib/ecto/repo.ex         Ecto.Repo.Schema.insert(__MODULE__, @adapter, model, opts)</span>
<span class='curline'><a href='../S/129.html#L135'>model</a>             135 deps/ecto/lib/ecto/repo.ex       def update(model, opts \\ []) do</span>
<span class='curline'><a href='../S/129.html#L136'>model</a>             136 deps/ecto/lib/ecto/repo.ex         Ecto.Repo.Schema.update(__MODULE__, @adapter, model, opts)</span>
<span class='curline'><a href='../S/129.html#L143'>model</a>             143 deps/ecto/lib/ecto/repo.ex       def delete(model, opts \\ []) do</span>
<span class='curline'><a href='../S/129.html#L144'>model</a>             144 deps/ecto/lib/ecto/repo.ex         Ecto.Repo.Schema.delete(__MODULE__, @adapter, model, opts)</span>
<span class='curline'><a href='../S/129.html#L147'>model</a>             147 deps/ecto/lib/ecto/repo.ex       def insert!(model, opts \\ []) do</span>
<span class='curline'><a href='../S/129.html#L148'>model</a>             148 deps/ecto/lib/ecto/repo.ex         Ecto.Repo.Schema.insert!(__MODULE__, @adapter, model, opts)</span>
<span class='curline'><a href='../S/129.html#L151'>model</a>             151 deps/ecto/lib/ecto/repo.ex       def update!(model, opts \\ []) do</span>
<span class='curline'><a href='../S/129.html#L152'>model</a>             152 deps/ecto/lib/ecto/repo.ex         Ecto.Repo.Schema.update!(__MODULE__, @adapter, model, opts)</span>
<span class='curline'><a href='../S/129.html#L159'>model</a>             159 deps/ecto/lib/ecto/repo.ex       def delete!(model, opts \\ []) do</span>
<span class='curline'><a href='../S/129.html#L160'>model</a>             160 deps/ecto/lib/ecto/repo.ex         Ecto.Repo.Schema.delete!(__MODULE__, @adapter, model, opts)</span>
<span class='curline'><a href='../S/124.html#L90'>model</a>              90 deps/ecto/lib/ecto/repo/assoc.ex       {_source, model} = elem(sources, idx)</span>
<span class='curline'><a href='../S/124.html#L91'>model</a>              91 deps/ecto/lib/ecto/repo/assoc.ex       {model.__schema__(:association, field),</span>
<span class='curline'><a href='../S/125.html#L130'>model</a>             130 deps/ecto/lib/ecto/repo/preloader.ex   defp assert_struct!(model, %{__struct__: struct}) do</span>
<span class='curline'><a href='../S/125.html#L131'>model</a>             131 deps/ecto/lib/ecto/repo/preloader.ex     if struct != model do</span>
<span class='curline'><a href='../S/125.html#L133'>model</a>             133 deps/ecto/lib/ecto/repo/preloader.ex                            "got: #{inspect model} and #{inspect struct}"</span>
<span class='curline'><a href='../S/125.html#L251'>model</a>             251 deps/ecto/lib/ecto/repo/preloader.ex   def expand(model, preloads, acc) do</span>
<span class='curline'><a href='../S/125.html#L258'>model</a>             258 deps/ecto/lib/ecto/repo/preloader.ex           assoc = Ecto.Association.association_from_model!(model, preload)</span>
<span class='curline'><a href='../S/125.html#L270'>model</a>             270 deps/ecto/lib/ecto/repo/preloader.ex               List.keystore(expand(model, through, acc), preload, 0, {preload, info, {nil, []}})</span>
<span class='curline'><a href='../S/126.html#L110'>model</a>             110 deps/ecto/lib/ecto/repo/queryable.ex     {source, model} = elem(sources, ix)</span>
<span class='curline'><a href='../S/126.html#L111'>model</a>             111 deps/ecto/lib/ecto/repo/queryable.ex     Ecto.Schema.__load__(model, prefix, source, context, value, &amp;adapter.load/2)</span>
<span class='curline'><a href='../S/126.html#L186'>model</a>             186 deps/ecto/lib/ecto/repo/queryable.ex     model = assert_model!(query)</span>
<span class='curline'><a href='../S/126.html#L187'>model</a>             187 deps/ecto/lib/ecto/repo/queryable.ex     primary_key = primary_key_field!(model)</span>
<span class='curline'><a href='../S/126.html#L197'>model</a>             197 deps/ecto/lib/ecto/repo/queryable.ex       {_source, model} when model != nil -&gt;</span>
<span class='curline'><a href='../S/126.html#L198'>model</a>             198 deps/ecto/lib/ecto/repo/queryable.ex         model</span>
<span class='curline'><a href='../S/126.html#L206'>model</a>             206 deps/ecto/lib/ecto/repo/queryable.ex   defp primary_key_field!(model) when is_atom(model) do</span>
<span class='curline'><a href='../S/126.html#L207'>model</a>             207 deps/ecto/lib/ecto/repo/queryable.ex     case model.__schema__(:primary_key) do</span>
<span class='curline'><a href='../S/126.html#L209'>model</a>             209 deps/ecto/lib/ecto/repo/queryable.ex       _ -&gt; raise Ecto.NoPrimaryKeyFieldError, model: model</span>
<span class='curline'><a href='../S/127.html#L15'>model</a>              15 deps/ecto/lib/ecto/repo/schema.ex       {:ok, model} -&gt; model</span>
<span class='curline'><a href='../S/127.html#L26'>model</a>              26 deps/ecto/lib/ecto/repo/schema.ex       {:ok, model} -&gt; model</span>
<span class='curline'><a href='../S/127.html#L37'>model</a>              37 deps/ecto/lib/ecto/repo/schema.ex       {:ok, model} -&gt; model</span>
<span class='curline'><a href='../S/127.html#L57'>model</a>              57 deps/ecto/lib/ecto/repo/schema.ex     model  = struct.__struct__</span>
<span class='curline'><a href='../S/127.html#L58'>model</a>              58 deps/ecto/lib/ecto/repo/schema.ex     fields = model.__schema__(:fields)</span>
<span class='curline'><a href='../S/127.html#L59'>model</a>              59 deps/ecto/lib/ecto/repo/schema.ex     embeds = model.__schema__(:embeds)</span>
<span class='curline'><a href='../S/127.html#L60'>model</a>              60 deps/ecto/lib/ecto/repo/schema.ex     assocs = model.__schema__(:associations)</span>
<span class='curline'><a href='../S/127.html#L61'>model</a>              61 deps/ecto/lib/ecto/repo/schema.ex     return = model.__schema__(:read_after_writes)</span>
<span class='curline'><a href='../S/127.html#L69'>model</a>              69 deps/ecto/lib/ecto/repo/schema.ex     wrap_in_transaction(repo, adapter, model, opts, embeds, assocs, prepare,</span>
<span class='curline'><a href='../S/127.html#L72'>model</a>              72 deps/ecto/lib/ecto/repo/schema.ex       user_changeset = Callbacks.__apply__(model, :before_insert, changeset)</span>
<span class='curline'><a href='../S/127.html#L76'>model</a>              76 deps/ecto/lib/ecto/repo/schema.ex       {autogen, changes} = pop_autogenerate_id(changeset.changes, model)</span>
<span class='curline'><a href='../S/127.html#L77'>model</a>              77 deps/ecto/lib/ecto/repo/schema.ex       {changes, extra} = dump_changes(:insert, changes, model, fields, adapter)</span>
<span class='curline'><a href='../S/127.html#L87'>model</a>              87 deps/ecto/lib/ecto/repo/schema.ex           |&gt; maybe_process_after(user_changeset, model, :after_insert)</span>
<span class='curline'><a href='../S/127.html#L105'>model</a>             105 deps/ecto/lib/ecto/repo/schema.ex   def update(repo, adapter, %{__struct__: model} = struct, opts) when is_list(opts) do</span>
<span class='curline'><a href='../S/127.html#L112'>model</a>             112 deps/ecto/lib/ecto/repo/schema.ex       |&gt; Map.take(model.__schema__(:fields))</span>
<span class='curline'><a href='../S/127.html#L113'>model</a>             113 deps/ecto/lib/ecto/repo/schema.ex       |&gt; Map.drop(model.__schema__(:primary_key))</span>
<span class='curline'><a href='../S/127.html#L114'>model</a>             114 deps/ecto/lib/ecto/repo/schema.ex       |&gt; Map.drop(model.__schema__(:embeds))</span>
<span class='curline'><a href='../S/127.html#L126'>model</a>             126 deps/ecto/lib/ecto/repo/schema.ex     model  = struct.__struct__</span>
<span class='curline'><a href='../S/127.html#L127'>model</a>             127 deps/ecto/lib/ecto/repo/schema.ex     fields = model.__schema__(:fields)</span>
<span class='curline'><a href='../S/127.html#L128'>model</a>             128 deps/ecto/lib/ecto/repo/schema.ex     embeds = model.__schema__(:embeds)</span>
<span class='curline'><a href='../S/127.html#L129'>model</a>             129 deps/ecto/lib/ecto/repo/schema.ex     assocs = model.__schema__(:associations)</span>
<span class='curline'><a href='../S/127.html#L130'>model</a>             130 deps/ecto/lib/ecto/repo/schema.ex     return = model.__schema__(:read_after_writes)</span>
<span class='curline'><a href='../S/127.html#L138'>model</a>             138 deps/ecto/lib/ecto/repo/schema.ex       wrap_in_transaction(repo, adapter, model, opts, embeds, assocs, prepare,</span>
<span class='curline'><a href='../S/127.html#L141'>model</a>             141 deps/ecto/lib/ecto/repo/schema.ex         user_changeset = Callbacks.__apply__(model, :before_update, changeset)</span>
<span class='curline'><a href='../S/127.html#L145'>model</a>             145 deps/ecto/lib/ecto/repo/schema.ex         autogen = get_autogenerate_id(changeset.changes, model)</span>
<span class='curline'><a href='../S/127.html#L146'>model</a>             146 deps/ecto/lib/ecto/repo/schema.ex         {changes, extra} = dump_changes(:update, changeset.changes, model, fields, adapter)</span>
<span class='curline'><a href='../S/127.html#L150'>model</a>             150 deps/ecto/lib/ecto/repo/schema.ex         filters = Planner.fields(model, :update, filters, adapter)</span>
<span class='curline'><a href='../S/127.html#L160'>model</a>             160 deps/ecto/lib/ecto/repo/schema.ex             |&gt; maybe_process_after(user_changeset, model, :after_update)</span>
<span class='curline'><a href='../S/127.html#L166'>model</a>             166 deps/ecto/lib/ecto/repo/schema.ex       {:ok, changeset.model}</span>
<span class='curline'><a href='../S/127.html#L198'>model</a>             198 deps/ecto/lib/ecto/repo/schema.ex   defp get_state(%Changeset{model: model}), do: model.__meta__.state</span>
<span class='curline'><a href='../S/127.html#L219'>model</a>             219 deps/ecto/lib/ecto/repo/schema.ex     model  = struct.__struct__</span>
<span class='curline'><a href='../S/127.html#L220'>model</a>             220 deps/ecto/lib/ecto/repo/schema.ex     embeds = model.__schema__(:embeds)</span>
<span class='curline'><a href='../S/127.html#L221'>model</a>             221 deps/ecto/lib/ecto/repo/schema.ex     assocs = model.__schema__(:associations)</span>
<span class='curline'><a href='../S/127.html#L225'>model</a>             225 deps/ecto/lib/ecto/repo/schema.ex     autogen   = get_autogenerate_id(changeset, model)</span>
<span class='curline'><a href='../S/127.html#L227'>model</a>             227 deps/ecto/lib/ecto/repo/schema.ex     wrap_in_transaction(repo, adapter, model, opts, embeds, assocs, prepare,</span>
<span class='curline'><a href='../S/127.html#L230'>model</a>             230 deps/ecto/lib/ecto/repo/schema.ex       delete_assocs(changeset, repo, model, assocs)</span>
<span class='curline'><a href='../S/127.html#L231'>model</a>             231 deps/ecto/lib/ecto/repo/schema.ex       user_changeset = Callbacks.__apply__(model, :before_delete, changeset)</span>
<span class='curline'><a href='../S/127.html#L242'>model</a>             242 deps/ecto/lib/ecto/repo/schema.ex       filters = Planner.fields(model, :delete, filters, adapter)</span>
<span class='curline'><a href='../S/127.html#L252'>model</a>             252 deps/ecto/lib/ecto/repo/schema.ex           maybe_process_after({:ok, changeset}, user_changeset, model, :after_delete)</span>
<span class='curline'><a href='../S/127.html#L286'>model</a>             286 deps/ecto/lib/ecto/repo/schema.ex   defp metadata(%{__struct__: model, __meta__: meta}) do</span>
<span class='curline'><a href='../S/127.html#L289'>model</a>             289 deps/ecto/lib/ecto/repo/schema.ex     |&gt; Map.put(:model, model)</span>
<span class='curline'><a href='../S/127.html#L303'>model</a>             303 deps/ecto/lib/ecto/repo/schema.ex         raise Ecto.StaleModelError, model: changeset.model, action: action</span>
<span class='curline'><a href='../S/127.html#L327'>model</a>             327 deps/ecto/lib/ecto/repo/schema.ex     model =</span>
<span class='curline'><a href='../S/127.html#L331'>model</a>             331 deps/ecto/lib/ecto/repo/schema.ex     model = put_in(model.__meta__.state, action_to_state(action))</span>
<span class='curline'><a href='../S/127.html#L332'>model</a>             332 deps/ecto/lib/ecto/repo/schema.ex     Map.put(changeset, :model, model)</span>
<span class='curline'><a href='../S/127.html#L399'>model</a>             399 deps/ecto/lib/ecto/repo/schema.ex   defp delete_assocs(%{model: model}, repo, struct, assocs) do</span>
<span class='curline'><a href='../S/127.html#L404'>model</a>             404 deps/ecto/lib/ecto/repo/schema.ex           assocs = repo.all Ecto.assoc(model, field)</span>
<span class='curline'><a href='../S/127.html#L407'>model</a>             407 deps/ecto/lib/ecto/repo/schema.ex           repo.delete_all Ecto.assoc(model, field)</span>
<span class='curline'><a href='../S/127.html#L409'>model</a>             409 deps/ecto/lib/ecto/repo/schema.ex           query = Ecto.assoc(model, field)</span>
<span class='curline'><a href='../S/127.html#L419'>model</a>             419 deps/ecto/lib/ecto/repo/schema.ex   defp maybe_process_after({:ok, changeset}, _user_changeset, model, callback) do</span>
<span class='curline'><a href='../S/127.html#L420'>model</a>             420 deps/ecto/lib/ecto/repo/schema.ex     {:ok, Callbacks.__apply__(model, callback, changeset).model}</span>
<span class='curline'><a href='../S/127.html#L427'>model</a>             427 deps/ecto/lib/ecto/repo/schema.ex   defp pop_autogenerate_id(changes, model) do</span>
<span class='curline'><a href='../S/127.html#L428'>model</a>             428 deps/ecto/lib/ecto/repo/schema.ex     case model.__schema__(:autogenerate_id) do</span>
<span class='curline'><a href='../S/127.html#L439'>model</a>             439 deps/ecto/lib/ecto/repo/schema.ex   defp get_autogenerate_id(changes, model) do</span>
<span class='curline'><a href='../S/127.html#L440'>model</a>             440 deps/ecto/lib/ecto/repo/schema.ex     case model.__schema__(:autogenerate_id) do</span>
<span class='curline'><a href='../S/127.html#L446'>model</a>             446 deps/ecto/lib/ecto/repo/schema.ex   defp dump_changes(action, changes, model, fields, adapter) do</span>
<span class='curline'><a href='../S/127.html#L448'>model</a>             448 deps/ecto/lib/ecto/repo/schema.ex     {leftover, autogen} = autogenerate_changes(model, action, changes)</span>
<span class='curline'><a href='../S/127.html#L449'>model</a>             449 deps/ecto/lib/ecto/repo/schema.ex     dumped = Planner.fields(model, action, leftover, adapter)</span>
<span class='curline'><a href='../S/127.html#L453'>model</a>             453 deps/ecto/lib/ecto/repo/schema.ex   defp autogenerate_changes(model, action, changes) do</span>
<span class='curline'><a href='../S/127.html#L454'>model</a>             454 deps/ecto/lib/ecto/repo/schema.ex     Enum.reduce model.__schema__(:autogenerate, action), {changes, []},</span>
<span class='curline'><a href='../S/127.html#L472'>model</a>             472 deps/ecto/lib/ecto/repo/schema.ex   defp wrap_in_transaction(repo, adapter, model, opts, embeds, assocs, prepare, callbacks, fun) do</span>
<span class='curline'><a href='../S/127.html#L473'>model</a>             473 deps/ecto/lib/ecto/repo/schema.ex     if transaction_required?(model, embeds, assocs, prepare, callbacks) and</span>
<span class='curline'><a href='../S/127.html#L478'>model</a>             478 deps/ecto/lib/ecto/repo/schema.ex           {:ok, model} -&gt; model</span>
<span class='curline'><a href='../S/127.html#L487'>model</a>             487 deps/ecto/lib/ecto/repo/schema.ex   defp transaction_required?(model, embeds, assocs, prepare, callbacks) do</span>
<span class='curline'><a href='../S/127.html#L489'>model</a>             489 deps/ecto/lib/ecto/repo/schema.ex       Enum.any?(callbacks, &amp;function_exported?(model, &amp;1, 1))</span>
<span class='curline'><a href='../S/130.html#L846'>model</a>             846 deps/ecto/lib/ecto/schema.ex   defmacro embeds_one(name, model, opts \\ []) do</span>
<span class='curline'><a href='../S/130.html#L848'>model</a>             848 deps/ecto/lib/ecto/schema.ex       Ecto.Schema.__embeds_one__(__MODULE__, unquote(name), unquote(model), unquote(opts))</span>
<span class='curline'><a href='../S/130.html#L943'>model</a>             943 deps/ecto/lib/ecto/schema.ex   defmacro embeds_many(name, model, opts \\ []) do</span>
<span class='curline'><a href='../S/130.html#L945'>model</a>             945 deps/ecto/lib/ecto/schema.ex       Ecto.Schema.__embeds_many__(__MODULE__, unquote(name), unquote(model), unquote(opts))</span>
<span class='curline'><a href='../S/130.html#L952'>model</a>             952 deps/ecto/lib/ecto/schema.ex   def __load__(model, prefix, source, context, data, loader) do</span>
<span class='curline'><a href='../S/130.html#L953'>model</a>             953 deps/ecto/lib/ecto/schema.ex     source = source || model.__schema__(:source)</span>
<span class='curline'><a href='../S/130.html#L954'>model</a>             954 deps/ecto/lib/ecto/schema.ex     struct = model.__struct__()</span>
<span class='curline'><a href='../S/130.html#L955'>model</a>             955 deps/ecto/lib/ecto/schema.ex     fields = model.__schema__(:types)</span>
<span class='curline'><a href='../S/130.html#L960'>model</a>             960 deps/ecto/lib/ecto/schema.ex     Ecto.Model.Callbacks.__apply__(model, :after_load, loaded)</span>
<span class='curline'><a href='../S/130.html#L1062'>model</a>            1062 deps/ecto/lib/ecto/schema.ex   def __embeds_one__(mod, name, model, opts) do</span>
<span class='curline'><a href='../S/130.html#L1064'>model</a>            1064 deps/ecto/lib/ecto/schema.ex     embed(mod, :one, name, model, opts)</span>
<span class='curline'><a href='../S/130.html#L1068'>model</a>            1068 deps/ecto/lib/ecto/schema.ex   def __embeds_many__(mod, name, model, opts) do</span>
<span class='curline'><a href='../S/130.html#L1071'>model</a>            1071 deps/ecto/lib/ecto/schema.ex     embed(mod, :many, name, model, opts)</span>
<span class='curline'><a href='../S/130.html#L1207'>model</a>            1207 deps/ecto/lib/ecto/schema.ex   defp embed(mod, cardinality, name, model, opts) do</span>
<span class='curline'><a href='../S/130.html#L1208'>model</a>            1208 deps/ecto/lib/ecto/schema.ex     opts   = [cardinality: cardinality, related: model] ++ opts</span>
<span class='curline'><a href='../S/132.html#L355'>model</a>             355 deps/ecto/lib/ecto/type.ex   defp dump_embed(%{cardinality: :one, related: model, field: field} = embed,</span>
<span class='curline'><a href='../S/132.html#L358'>model</a>             358 deps/ecto/lib/ecto/type.ex     {:ok, dump_embed(field, model, value, model.__schema__(:types), fun)}</span>
<span class='curline'><a href='../S/132.html#L361'>model</a>             361 deps/ecto/lib/ecto/type.ex   defp dump_embed(%{cardinality: :many, related: model, field: field} = embed,</span>
<span class='curline'><a href='../S/132.html#L364'>model</a>             364 deps/ecto/lib/ecto/type.ex     types = model.__schema__(:types)</span>
<span class='curline'><a href='../S/132.html#L366'>model</a>             366 deps/ecto/lib/ecto/type.ex               model = dump_embed(field, model, changeset, types, fun),</span>
<span class='curline'><a href='../S/132.html#L367'>model</a>             367 deps/ecto/lib/ecto/type.ex               do: model)}</span>
<span class='curline'><a href='../S/132.html#L378'>model</a>             378 deps/ecto/lib/ecto/type.ex   defp dump_embed(_field, model, %Ecto.Changeset{model: %{__struct__: model}} = changeset, types, dumper) do</span>
<span class='curline'><a href='../S/132.html#L448'>model</a>             448 deps/ecto/lib/ecto/type.ex   defp load_embed(%{cardinality: :one, related: model, field: field} = embed,</span>
<span class='curline'><a href='../S/132.html#L451'>model</a>             451 deps/ecto/lib/ecto/type.ex     {:ok, load_embed(field, model, value, fun)}</span>
<span class='curline'><a href='../S/132.html#L456'>model</a>             456 deps/ecto/lib/ecto/type.ex   defp load_embed(%{cardinality: :many, related: model, field: field} = embed,</span>
<span class='curline'><a href='../S/132.html#L459'>model</a>             459 deps/ecto/lib/ecto/type.ex     {:ok, Enum.map(value, &amp;load_embed(field, model, &amp;1, fun))}</span>
<span class='curline'><a href='../S/132.html#L466'>model</a>             466 deps/ecto/lib/ecto/type.ex   defp load_embed(_field, model, value, loader) when is_map(value) do</span>
<span class='curline'><a href='../S/132.html#L467'>model</a>             467 deps/ecto/lib/ecto/type.ex     Ecto.Schema.__load__(model, nil, nil, nil, value, loader)</span>
</pre>
</body>
</html>
