<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>changeset</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.2' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/56.html#L68'>changeset</a>          68 deps/ecto/integration_test/cases/repo.exs     changeset = Ecto.Changeset.cast(%Post{text: "x", title: "wrong"},</span>
<span class='curline'><a href='../S/56.html#L71'>changeset</a>          71 deps/ecto/integration_test/cases/repo.exs     post = TestRepo.insert!(changeset)</span>
<span class='curline'><a href='../S/56.html#L76'>changeset</a>          76 deps/ecto/integration_test/cases/repo.exs     changeset = Ecto.Changeset.cast(%{post | text: "y"},</span>
<span class='curline'><a href='../S/56.html#L79'>changeset</a>          79 deps/ecto/integration_test/cases/repo.exs     assert %Post{text: "y", title: "world", temp: "unknown"} = TestRepo.update!(changeset)</span>
<span class='curline'><a href='../S/56.html#L85'>changeset</a>          85 deps/ecto/integration_test/cases/repo.exs     changeset = Ecto.Changeset.cast(%Permalink{}, %{}, ~w(), ~w())</span>
<span class='curline'><a href='../S/56.html#L86'>changeset</a>          86 deps/ecto/integration_test/cases/repo.exs     assert %Permalink{} = permalink = TestRepo.insert!(changeset)</span>
<span class='curline'><a href='../S/56.html#L90'>changeset</a>          90 deps/ecto/integration_test/cases/repo.exs     changeset = Ecto.Changeset.cast(permalink, %{}, ~w(), ~w())</span>
<span class='curline'><a href='../S/56.html#L91'>changeset</a>          91 deps/ecto/integration_test/cases/repo.exs     assert TestRepo.update!(changeset) == permalink</span>
<span class='curline'><a href='../S/56.html#L92'>changeset</a>          92 deps/ecto/integration_test/cases/repo.exs     assert TestRepo.update!(changeset) == permalink</span>
<span class='curline'><a href='../S/56.html#L111'>changeset</a>         111 deps/ecto/integration_test/cases/repo.exs     changeset = Ecto.Changeset.cast(struct(RAW, %{}), %{}, ~w(), ~w())</span>
<span class='curline'><a href='../S/56.html#L115'>changeset</a>         115 deps/ecto/integration_test/cases/repo.exs     assert %{id: cid, counter: nil} = raw = TestRepo.insert!(changeset)</span>
<span class='curline'><a href='../S/56.html#L122'>changeset</a>         122 deps/ecto/integration_test/cases/repo.exs     changeset = Ecto.Changeset.cast(raw, %{"visits" =&gt; "0"}, ~w(visits), ~w())</span>
<span class='curline'><a href='../S/56.html#L123'>changeset</a>         123 deps/ecto/integration_test/cases/repo.exs     assert %{id: ^cid, counter: 11, visits: 0} = TestRepo.update!(changeset)</span>
<span class='curline'><a href='../S/56.html#L156'>changeset</a>         156 deps/ecto/integration_test/cases/repo.exs     changeset = Ecto.Changeset.cast(%Post{id: 11}, %{"id" =&gt; "13"}, ~w(id), ~w())</span>
<span class='curline'><a href='../S/56.html#L157'>changeset</a>         157 deps/ecto/integration_test/cases/repo.exs     assert %Post{id: 13} = post = TestRepo.insert!(changeset)</span>
<span class='curline'><a href='../S/56.html#L159'>changeset</a>         159 deps/ecto/integration_test/cases/repo.exs     changeset = Ecto.Changeset.cast(post, %{"id" =&gt; "15"}, ~w(id), ~w())</span>
<span class='curline'><a href='../S/56.html#L160'>changeset</a>         160 deps/ecto/integration_test/cases/repo.exs     assert %Post{id: 15} = TestRepo.update!(changeset)</span>
<span class='curline'><a href='../S/56.html#L194'>changeset</a>         194 deps/ecto/integration_test/cases/repo.exs     changeset = Ecto.Changeset.change(%Post{}, uuid: Ecto.UUID.generate())</span>
<span class='curline'><a href='../S/56.html#L195'>changeset</a>         195 deps/ecto/integration_test/cases/repo.exs     {:ok, _}  = TestRepo.insert(changeset)</span>
<span class='curline'><a href='../S/56.html#L199'>changeset</a>         199 deps/ecto/integration_test/cases/repo.exs         changeset</span>
<span class='curline'><a href='../S/56.html#L209'>changeset</a>         209 deps/ecto/integration_test/cases/repo.exs         changeset</span>
<span class='curline'><a href='../S/56.html#L216'>changeset</a>         216 deps/ecto/integration_test/cases/repo.exs     {:error, changeset} =</span>
<span class='curline'><a href='../S/56.html#L217'>changeset</a>         217 deps/ecto/integration_test/cases/repo.exs       changeset</span>
<span class='curline'><a href='../S/56.html#L220'>changeset</a>         220 deps/ecto/integration_test/cases/repo.exs     assert changeset.errors == [uuid: "has already been taken"]</span>
<span class='curline'><a href='../S/56.html#L221'>changeset</a>         221 deps/ecto/integration_test/cases/repo.exs     assert changeset.model.__meta__.state == :built</span>
<span class='curline'><a href='../S/56.html#L227'>changeset</a>         227 deps/ecto/integration_test/cases/repo.exs     changeset = Ecto.Changeset.change(%Custom{}, uuid: Ecto.UUID.generate())</span>
<span class='curline'><a href='../S/56.html#L228'>changeset</a>         228 deps/ecto/integration_test/cases/repo.exs     {:ok, _}  = TestRepo.insert(changeset)</span>
<span class='curline'><a href='../S/56.html#L230'>changeset</a>         230 deps/ecto/integration_test/cases/repo.exs     {:error, changeset} =</span>
<span class='curline'><a href='../S/56.html#L231'>changeset</a>         231 deps/ecto/integration_test/cases/repo.exs       changeset</span>
<span class='curline'><a href='../S/56.html#L234'>changeset</a>         234 deps/ecto/integration_test/cases/repo.exs     assert changeset.errors == [uuid: "has already been taken"]</span>
<span class='curline'><a href='../S/56.html#L235'>changeset</a>         235 deps/ecto/integration_test/cases/repo.exs     assert changeset.model.__meta__.state == :built</span>
<span class='curline'><a href='../S/56.html#L240'>changeset</a>         240 deps/ecto/integration_test/cases/repo.exs     changeset = Ecto.Changeset.change(%Comment{post_id: 0})</span>
<span class='curline'><a href='../S/56.html#L244'>changeset</a>         244 deps/ecto/integration_test/cases/repo.exs         changeset</span>
<span class='curline'><a href='../S/56.html#L254'>changeset</a>         254 deps/ecto/integration_test/cases/repo.exs         changeset</span>
<span class='curline'><a href='../S/56.html#L261'>changeset</a>         261 deps/ecto/integration_test/cases/repo.exs     {:error, changeset} =</span>
<span class='curline'><a href='../S/56.html#L262'>changeset</a>         262 deps/ecto/integration_test/cases/repo.exs       changeset</span>
<span class='curline'><a href='../S/56.html#L265'>changeset</a>         265 deps/ecto/integration_test/cases/repo.exs     assert changeset.errors == [post_id: "does not exist"]</span>
<span class='curline'><a href='../S/56.html#L270'>changeset</a>         270 deps/ecto/integration_test/cases/repo.exs     changeset = Ecto.Changeset.change(%Comment{post_id: 0})</span>
<span class='curline'><a href='../S/56.html#L274'>changeset</a>         274 deps/ecto/integration_test/cases/repo.exs         changeset</span>
<span class='curline'><a href='../S/56.html#L284'>changeset</a>         284 deps/ecto/integration_test/cases/repo.exs         changeset</span>
<span class='curline'><a href='../S/56.html#L291'>changeset</a>         291 deps/ecto/integration_test/cases/repo.exs     {:error, changeset} =</span>
<span class='curline'><a href='../S/56.html#L292'>changeset</a>         292 deps/ecto/integration_test/cases/repo.exs       changeset</span>
<span class='curline'><a href='../S/56.html#L295'>changeset</a>         295 deps/ecto/integration_test/cases/repo.exs     assert changeset.errors == [post: "does not exist"]</span>
<span class='curline'><a href='../S/56.html#L334'>changeset</a>         334 deps/ecto/integration_test/cases/repo.exs     {:error, changeset} =</span>
<span class='curline'><a href='../S/56.html#L339'>changeset</a>         339 deps/ecto/integration_test/cases/repo.exs     assert changeset.errors == [permalinks: "are still associated to this entry"]</span>
<span class='curline'><a href='../S/56.html#L583'>changeset</a>         583 deps/ecto/integration_test/cases/repo.exs     changeset =</span>
<span class='curline'><a href='../S/56.html#L587'>changeset</a>         587 deps/ecto/integration_test/cases/repo.exs     p1 = TestRepo.insert!(changeset)</span>
<span class='curline'><a href='../S/56.html#L594'>changeset</a>         594 deps/ecto/integration_test/cases/repo.exs     changeset =</span>
<span class='curline'><a href='../S/56.html#L598'>changeset</a>         598 deps/ecto/integration_test/cases/repo.exs     p1 = TestRepo.update!(changeset)</span>
<span class='curline'><a href='../S/56.html#L605'>changeset</a>         605 deps/ecto/integration_test/cases/repo.exs     changeset =</span>
<span class='curline'><a href='../S/56.html#L609'>changeset</a>         609 deps/ecto/integration_test/cases/repo.exs     p1 = TestRepo.update!(changeset)</span>
<span class='curline'><a href='../S/56.html#L621'>changeset</a>         621 deps/ecto/integration_test/cases/repo.exs     changeset =</span>
<span class='curline'><a href='../S/56.html#L625'>changeset</a>         625 deps/ecto/integration_test/cases/repo.exs     p1 = TestRepo.insert!(changeset)</span>
<span class='curline'><a href='../S/56.html#L633'>changeset</a>         633 deps/ecto/integration_test/cases/repo.exs     changeset =</span>
<span class='curline'><a href='../S/56.html#L637'>changeset</a>         637 deps/ecto/integration_test/cases/repo.exs     p1 = TestRepo.update!(changeset)</span>
<span class='curline'><a href='../S/56.html#L646'>changeset</a>         646 deps/ecto/integration_test/cases/repo.exs     changeset =</span>
<span class='curline'><a href='../S/56.html#L650'>changeset</a>         650 deps/ecto/integration_test/cases/repo.exs     p1 = TestRepo.update!(changeset)</span>
<span class='curline'><a href='../S/56.html#L675'>changeset</a>         675 deps/ecto/integration_test/cases/repo.exs     changeset =</span>
<span class='curline'><a href='../S/56.html#L679'>changeset</a>         679 deps/ecto/integration_test/cases/repo.exs     author = TestRepo.update! changeset</span>
<span class='curline'><a href='../S/56.html#L686'>changeset</a>         686 deps/ecto/integration_test/cases/repo.exs     changeset =</span>
<span class='curline'><a href='../S/56.html#L690'>changeset</a>         690 deps/ecto/integration_test/cases/repo.exs     assert {:error, changeset} = TestRepo.insert(changeset)</span>
<span class='curline'><a href='../S/56.html#L691'>changeset</a>         691 deps/ecto/integration_test/cases/repo.exs     assert changeset.model.__struct__ == Post</span>
<span class='curline'><a href='../S/56.html#L692'>changeset</a>         692 deps/ecto/integration_test/cases/repo.exs     refute changeset.valid?</span>
<span class='curline'><a href='../S/83.html#L339'>changeset</a>         339 deps/ecto/lib/ecto/association.ex   def on_replace(%{on_replace: :delete}, changeset) do</span>
<span class='curline'><a href='../S/83.html#L340'>changeset</a>         340 deps/ecto/lib/ecto/association.ex     {:delete, changeset}</span>
<span class='curline'><a href='../S/83.html#L343'>changeset</a>         343 deps/ecto/lib/ecto/association.ex   def on_replace(%{on_replace: :nilify, related_key: related_key}, changeset) do</span>
<span class='curline'><a href='../S/83.html#L344'>changeset</a>         344 deps/ecto/lib/ecto/association.ex     changeset = update_in changeset.changes, &amp;Map.put(&amp;1, related_key, nil)</span>
<span class='curline'><a href='../S/83.html#L345'>changeset</a>         345 deps/ecto/lib/ecto/association.ex     {:update, changeset}</span>
<span class='curline'><a href='../S/83.html#L349'>changeset</a>         349 deps/ecto/lib/ecto/association.ex   def on_repo_action(assoc, changeset, parent, _adapter, repo, repo_action, opts) do</span>
<span class='curline'><a href='../S/83.html#L350'>changeset</a>         350 deps/ecto/lib/ecto/association.ex     %{action: action, changes: changes} = changeset</span>
<span class='curline'><a href='../S/83.html#L354'>changeset</a>         354 deps/ecto/lib/ecto/association.ex     changeset = update_parent_key(changeset, action, key, value)</span>
<span class='curline'><a href='../S/83.html#L356'>changeset</a>         356 deps/ecto/lib/ecto/association.ex     case apply(repo, action, [changeset, opts]) do</span>
<span class='curline'><a href='../S/83.html#L358'>changeset</a>         358 deps/ecto/lib/ecto/association.ex         maybe_replace_one!(assoc, changeset, parent, repo, opts)</span>
<span class='curline'><a href='../S/83.html#L360'>changeset</a>         360 deps/ecto/lib/ecto/association.ex       {:error, changeset} -&gt;</span>
<span class='curline'><a href='../S/83.html#L362'>changeset</a>         362 deps/ecto/lib/ecto/association.ex         {:error, update_in(changeset.changes, &amp;Map.put(&amp;1, key, original))}</span>
<span class='curline'><a href='../S/83.html#L366'>changeset</a>         366 deps/ecto/lib/ecto/association.ex   defp update_parent_key(changeset, :delete, _key, _value),</span>
<span class='curline'><a href='../S/83.html#L367'>changeset</a>         367 deps/ecto/lib/ecto/association.ex     do: changeset</span>
<span class='curline'><a href='../S/83.html#L368'>changeset</a>         368 deps/ecto/lib/ecto/association.ex   defp update_parent_key(changeset, _action, key, value),</span>
<span class='curline'><a href='../S/83.html#L369'>changeset</a>         369 deps/ecto/lib/ecto/association.ex     do: Ecto.Changeset.put_change(changeset, key, value)</span>
<span class='curline'><a href='../S/83.html#L388'>changeset</a>         388 deps/ecto/lib/ecto/association.ex         {:ok, changeset} = Ecto.Changeset.Relation.on_replace(assoc, previous)</span>
<span class='curline'><a href='../S/83.html#L390'>changeset</a>         390 deps/ecto/lib/ecto/association.ex         case apply(repo, changeset.action, [changeset, opts]) do</span>
<span class='curline'><a href='../S/83.html#L393'>changeset</a>         393 deps/ecto/lib/ecto/association.ex           {:error, changeset} -&gt;</span>
<span class='curline'><a href='../S/83.html#L395'>changeset</a>         395 deps/ecto/lib/ecto/association.ex               action: changeset.action, changeset: changeset</span>
<span class='curline'><a href='../S/85.html#L231'>changeset</a>         231 deps/ecto/lib/ecto/changeset.ex   def change(%Changeset{changes: changes, types: types} = changeset, new_changes)</span>
<span class='curline'><a href='../S/85.html#L234'>changeset</a>         234 deps/ecto/lib/ecto/changeset.ex       get_changed(changeset.model, types, changes, new_changes,</span>
<span class='curline'><a href='../S/85.html#L235'>changeset</a>         235 deps/ecto/lib/ecto/changeset.ex                   changeset.errors, changeset.valid?)</span>
<span class='curline'><a href='../S/85.html#L236'>changeset</a>         236 deps/ecto/lib/ecto/changeset.ex     %{changeset | changes: changes, errors: errors, valid?: valid?}</span>
<span class='curline'><a href='../S/85.html#L352'>changeset</a>         352 deps/ecto/lib/ecto/changeset.ex   def cast(%Changeset{changes: changes, model: model} = changeset, params, required, optional) do</span>
<span class='curline'><a href='../S/85.html#L354'>changeset</a>         354 deps/ecto/lib/ecto/changeset.ex     cast_merge(changeset, new_changeset)</span>
<span class='curline'><a href='../S/85.html#L535'>changeset</a>         535 deps/ecto/lib/ecto/changeset.ex   def cast_assoc(changeset, name, opts \\ []) when is_atom(name) do</span>
<span class='curline'><a href='../S/85.html#L536'>changeset</a>         536 deps/ecto/lib/ecto/changeset.ex     cast_relation(:assoc, changeset, name, opts)</span>
<span class='curline'><a href='../S/85.html#L556'>changeset</a>         556 deps/ecto/lib/ecto/changeset.ex   def cast_embed(changeset, name, opts \\ []) when is_atom(name) do</span>
<span class='curline'><a href='../S/85.html#L557'>changeset</a>         557 deps/ecto/lib/ecto/changeset.ex     cast_relation(:embed, changeset, name, opts)</span>
<span class='curline'><a href='../S/85.html#L566'>changeset</a>         566 deps/ecto/lib/ecto/changeset.ex   defp cast_relation(type, %Changeset{} = changeset, key, opts) do</span>
<span class='curline'><a href='../S/85.html#L568'>changeset</a>         568 deps/ecto/lib/ecto/changeset.ex     %{model: model, types: types, params: params, changes: changes} = changeset</span>
<span class='curline'><a href='../S/85.html#L572'>changeset</a>         572 deps/ecto/lib/ecto/changeset.ex     {changeset, required?} =</span>
<span class='curline'><a href='../S/85.html#L574'>changeset</a>         574 deps/ecto/lib/ecto/changeset.ex         {update_in(changeset.required, &amp;[key|&amp;1]), true}</span>
<span class='curline'><a href='../S/85.html#L576'>changeset</a>         576 deps/ecto/lib/ecto/changeset.ex         {update_in(changeset.optional, &amp;[key|&amp;1]), false}</span>
<span class='curline'><a href='../S/85.html#L587'>changeset</a>         587 deps/ecto/lib/ecto/changeset.ex             missing_relation(%{changeset | changes: Map.put(changes, key, change),</span>
<span class='curline'><a href='../S/85.html#L588'>changeset</a>         588 deps/ecto/lib/ecto/changeset.ex                                valid?: changeset.valid? &amp;&amp; relation_valid?}, key, current, required?)</span>
<span class='curline'><a href='../S/85.html#L590'>changeset</a>         590 deps/ecto/lib/ecto/changeset.ex             missing_relation(changeset, key, current, required?)</span>
<span class='curline'><a href='../S/85.html#L592'>changeset</a>         592 deps/ecto/lib/ecto/changeset.ex             %{changeset | errors: [{key, "is invalid"} | changeset.errors], valid?: false}</span>
<span class='curline'><a href='../S/85.html#L595'>changeset</a>         595 deps/ecto/lib/ecto/changeset.ex         missing_relation(changeset, key, current, required?)</span>
<span class='curline'><a href='../S/85.html#L599'>changeset</a>         599 deps/ecto/lib/ecto/changeset.ex   defp missing_relation(%{changes: changes, errors: errors} = changeset, name, current, required?) do</span>
<span class='curline'><a href='../S/85.html#L601'>changeset</a>         601 deps/ecto/lib/ecto/changeset.ex       %{changeset | errors: [{name, "can't be blank"} | errors], valid?: false}</span>
<span class='curline'><a href='../S/85.html#L603'>changeset</a>         603 deps/ecto/lib/ecto/changeset.ex       changeset</span>
<span class='curline'><a href='../S/85.html#L833'>changeset</a>         833 deps/ecto/lib/ecto/changeset.ex   def update_change(%Changeset{changes: changes} = changeset, key, function) when is_atom(key) do</span>
<span class='curline'><a href='../S/85.html#L837'>changeset</a>         837 deps/ecto/lib/ecto/changeset.ex         %{changeset | changes: changes}</span>
<span class='curline'><a href='../S/85.html#L839'>changeset</a>         839 deps/ecto/lib/ecto/changeset.ex         changeset</span>
<span class='curline'><a href='../S/85.html#L867'>changeset</a>         867 deps/ecto/lib/ecto/changeset.ex   def put_change(%Changeset{types: types} = changeset, key, value) do</span>
<span class='curline'><a href='../S/85.html#L870'>changeset</a>         870 deps/ecto/lib/ecto/changeset.ex       put_change(changeset.model, changeset.changes, changeset.errors,</span>
<span class='curline'><a href='../S/85.html#L871'>changeset</a>         871 deps/ecto/lib/ecto/changeset.ex                  changeset.valid?, key, value, type)</span>
<span class='curline'><a href='../S/85.html#L872'>changeset</a>         872 deps/ecto/lib/ecto/changeset.ex     %{changeset | changes: changes, errors: errors, valid?: valid?}</span>
<span class='curline'><a href='../S/85.html#L913'>changeset</a>         913 deps/ecto/lib/ecto/changeset.ex   def put_assoc(changeset, name, value, opts \\ []) do</span>
<span class='curline'><a href='../S/85.html#L914'>changeset</a>         914 deps/ecto/lib/ecto/changeset.ex     put_relation(:assoc, changeset, name, value, opts)</span>
<span class='curline'><a href='../S/85.html#L928'>changeset</a>         928 deps/ecto/lib/ecto/changeset.ex   def put_embed(changeset, name, value, opts \\ []) do</span>
<span class='curline'><a href='../S/85.html#L929'>changeset</a>         929 deps/ecto/lib/ecto/changeset.ex     put_relation(:embed, changeset, name, value, opts)</span>
<span class='curline'><a href='../S/85.html#L936'>changeset</a>         936 deps/ecto/lib/ecto/changeset.ex   defp put_relation(type, changeset, name, value, _opts) do</span>
<span class='curline'><a href='../S/85.html#L937'>changeset</a>         937 deps/ecto/lib/ecto/changeset.ex     %{model: model, types: types, changes: changes} = changeset</span>
<span class='curline'><a href='../S/85.html#L944'>changeset</a>         944 deps/ecto/lib/ecto/changeset.ex         changeset</span>
<span class='curline'><a href='../S/85.html#L946'>changeset</a>         946 deps/ecto/lib/ecto/changeset.ex         %{changeset | changes: Map.put(changes, name, change),</span>
<span class='curline'><a href='../S/85.html#L947'>changeset</a>         947 deps/ecto/lib/ecto/changeset.ex                       valid?: changeset.valid? &amp;&amp; relation_valid?}</span>
<span class='curline'><a href='../S/85.html#L949'>changeset</a>         949 deps/ecto/lib/ecto/changeset.ex         %{changeset | errors: [{name, "is invalid"} | changeset.errors], valid?: false}</span>
<span class='curline'><a href='../S/85.html#L976'>changeset</a>         976 deps/ecto/lib/ecto/changeset.ex   def force_change(%Changeset{types: types} = changeset, key, value) do</span>
<span class='curline'><a href='../S/85.html#L977'>changeset</a>         977 deps/ecto/lib/ecto/changeset.ex     model = changeset.model</span>
<span class='curline'><a href='../S/85.html#L992'>changeset</a>         992 deps/ecto/lib/ecto/changeset.ex     update_in changeset.changes, &amp;Map.put(&amp;1, key, value)</span>
<span class='curline'><a href='../S/85.html#L1007'>changeset</a>        1007 deps/ecto/lib/ecto/changeset.ex   def delete_change(%Changeset{} = changeset, key) when is_atom(key) do</span>
<span class='curline'><a href='../S/85.html#L1008'>changeset</a>        1008 deps/ecto/lib/ecto/changeset.ex     update_in changeset.changes, &amp;Map.delete(&amp;1, key)</span>
<span class='curline'><a href='../S/85.html#L1058'>changeset</a>        1058 deps/ecto/lib/ecto/changeset.ex   def add_error(%{errors: errors} = changeset, key, message) when is_binary(message) do</span>
<span class='curline'><a href='../S/85.html#L1059'>changeset</a>        1059 deps/ecto/lib/ecto/changeset.ex     %{changeset | errors: [{key, message}|errors], valid?: false}</span>
<span class='curline'><a href='../S/85.html#L1062'>changeset</a>        1062 deps/ecto/lib/ecto/changeset.ex   def add_error(%{errors: errors} = changeset, key, {message, opts} = error)</span>
<span class='curline'><a href='../S/85.html#L1064'>changeset</a>        1064 deps/ecto/lib/ecto/changeset.ex     %{changeset | errors: [{key, error}|errors], valid?: false}</span>
<span class='curline'><a href='../S/85.html#L1092'>changeset</a>        1092 deps/ecto/lib/ecto/changeset.ex   def validate_change(changeset, field, validator) when is_atom(field) do</span>
<span class='curline'><a href='../S/85.html#L1093'>changeset</a>        1093 deps/ecto/lib/ecto/changeset.ex     %{changes: changes, errors: errors} = changeset</span>
<span class='curline'><a href='../S/85.html#L1099'>changeset</a>        1099 deps/ecto/lib/ecto/changeset.ex       []    -&gt; changeset</span>
<span class='curline'><a href='../S/85.html#L1100'>changeset</a>        1100 deps/ecto/lib/ecto/changeset.ex       [_|_] -&gt; %{changeset | errors: new ++ errors, valid?: false}</span>
<span class='curline'><a href='../S/85.html#L1123'>changeset</a>        1123 deps/ecto/lib/ecto/changeset.ex   def validate_change(%{validations: validations} = changeset, field, metadata, validator) do</span>
<span class='curline'><a href='../S/85.html#L1124'>changeset</a>        1124 deps/ecto/lib/ecto/changeset.ex     changeset = %{changeset | validations: [{field, metadata}|validations]}</span>
<span class='curline'><a href='../S/85.html#L1125'>changeset</a>        1125 deps/ecto/lib/ecto/changeset.ex     validate_change(changeset, field, validator)</span>
<span class='curline'><a href='../S/85.html#L1143'>changeset</a>        1143 deps/ecto/lib/ecto/changeset.ex   def validate_format(changeset, field, format, opts \\ []) do</span>
<span class='curline'><a href='../S/85.html#L1144'>changeset</a>        1144 deps/ecto/lib/ecto/changeset.ex     validate_change changeset, field, {:format, format}, fn _, value -&gt;</span>
<span class='curline'><a href='../S/85.html#L1163'>changeset</a>        1163 deps/ecto/lib/ecto/changeset.ex   def validate_inclusion(changeset, field, data, opts \\ []) do</span>
<span class='curline'><a href='../S/85.html#L1164'>changeset</a>        1164 deps/ecto/lib/ecto/changeset.ex     validate_change changeset, field, {:inclusion, data}, fn _, value -&gt;</span>
<span class='curline'><a href='../S/85.html#L1184'>changeset</a>        1184 deps/ecto/lib/ecto/changeset.ex   def validate_subset(changeset, field, data, opts \\ []) do</span>
<span class='curline'><a href='../S/85.html#L1185'>changeset</a>        1185 deps/ecto/lib/ecto/changeset.ex     validate_change changeset, field, {:subset, data}, fn _, value -&gt;</span>
<span class='curline'><a href='../S/85.html#L1206'>changeset</a>        1206 deps/ecto/lib/ecto/changeset.ex   def validate_exclusion(changeset, field, data, opts \\ []) do</span>
<span class='curline'><a href='../S/85.html#L1207'>changeset</a>        1207 deps/ecto/lib/ecto/changeset.ex     validate_change changeset, field, {:exclusion, data}, fn _, value -&gt;</span>
<span class='curline'><a href='../S/85.html#L1240'>changeset</a>        1240 deps/ecto/lib/ecto/changeset.ex   def validate_length(changeset, field, opts) when is_list(opts) do</span>
<span class='curline'><a href='../S/85.html#L1241'>changeset</a>        1241 deps/ecto/lib/ecto/changeset.ex     validate_change changeset, field, {:length, opts}, fn</span>
<span class='curline'><a href='../S/85.html#L1301'>changeset</a>        1301 deps/ecto/lib/ecto/changeset.ex   def validate_number(changeset, field, opts) do</span>
<span class='curline'><a href='../S/85.html#L1302'>changeset</a>        1302 deps/ecto/lib/ecto/changeset.ex     validate_change changeset, field, {:number, opts}, fn</span>
<span class='curline'><a href='../S/85.html#L1378'>changeset</a>        1378 deps/ecto/lib/ecto/changeset.ex   def validate_confirmation(changeset, field, opts \\ []) do</span>
<span class='curline'><a href='../S/85.html#L1379'>changeset</a>        1379 deps/ecto/lib/ecto/changeset.ex     validate_change changeset, field, {:confirmation, opts}, fn _, _ -&gt;</span>
<span class='curline'><a href='../S/85.html#L1383'>changeset</a>        1383 deps/ecto/lib/ecto/changeset.ex       value = Map.get(changeset.params, param)</span>
<span class='curline'><a href='../S/85.html#L1385'>changeset</a>        1385 deps/ecto/lib/ecto/changeset.ex       case Map.fetch(changeset.params, error_param) do</span>
<span class='curline'><a href='../S/85.html#L1483'>changeset</a>        1483 deps/ecto/lib/ecto/changeset.ex     changeset = change(model_or_changeset, %{})</span>
<span class='curline'><a href='../S/85.html#L1484'>changeset</a>        1484 deps/ecto/lib/ecto/changeset.ex     current = Map.fetch!(changeset.model, field)</span>
<span class='curline'><a href='../S/85.html#L1485'>changeset</a>        1485 deps/ecto/lib/ecto/changeset.ex     update_in(changeset.filters, &amp;Map.put(&amp;1, field, current))</span>
<span class='curline'><a href='../S/85.html#L1500'>changeset</a>        1500 deps/ecto/lib/ecto/changeset.ex   def prepare_changes(changeset, function) when is_function(function, 1) do</span>
<span class='curline'><a href='../S/85.html#L1501'>changeset</a>        1501 deps/ecto/lib/ecto/changeset.ex     update_in changeset.prepare, &amp;[function|&amp;1]</span>
<span class='curline'><a href='../S/85.html#L1580'>changeset</a>        1580 deps/ecto/lib/ecto/changeset.ex   def unique_constraint(changeset, field, opts \\ []) do</span>
<span class='curline'><a href='../S/85.html#L1581'>changeset</a>        1581 deps/ecto/lib/ecto/changeset.ex     constraint = opts[:name] || "#{get_source(changeset)}_#{field}_index"</span>
<span class='curline'><a href='../S/85.html#L1583'>changeset</a>        1583 deps/ecto/lib/ecto/changeset.ex     add_constraint(changeset, :unique, to_string(constraint), field, message)</span>
<span class='curline'><a href='../S/85.html#L1627'>changeset</a>        1627 deps/ecto/lib/ecto/changeset.ex   def foreign_key_constraint(changeset, field, opts \\ []) do</span>
<span class='curline'><a href='../S/85.html#L1628'>changeset</a>        1628 deps/ecto/lib/ecto/changeset.ex     constraint = opts[:name] || "#{get_source(changeset)}_#{field}_fkey"</span>
<span class='curline'><a href='../S/85.html#L1630'>changeset</a>        1630 deps/ecto/lib/ecto/changeset.ex     add_constraint(changeset, :foreign_key, to_string(constraint), field, message)</span>
<span class='curline'><a href='../S/85.html#L1667'>changeset</a>        1667 deps/ecto/lib/ecto/changeset.ex   def assoc_constraint(changeset, assoc, opts \\ []) do</span>
<span class='curline'><a href='../S/85.html#L1669'>changeset</a>        1669 deps/ecto/lib/ecto/changeset.ex       (case get_assoc(changeset, assoc) do</span>
<span class='curline'><a href='../S/85.html#L1671'>changeset</a>        1671 deps/ecto/lib/ecto/changeset.ex           "#{get_source(changeset)}_#{owner_key}_fkey"</span>
<span class='curline'><a href='../S/85.html#L1678'>changeset</a>        1678 deps/ecto/lib/ecto/changeset.ex     add_constraint(changeset, :foreign_key, to_string(constraint), assoc, message)</span>
<span class='curline'><a href='../S/85.html#L1716'>changeset</a>        1716 deps/ecto/lib/ecto/changeset.ex   def no_assoc_constraint(changeset, assoc, opts \\ []) do</span>
<span class='curline'><a href='../S/85.html#L1718'>changeset</a>        1718 deps/ecto/lib/ecto/changeset.ex       (case get_assoc(changeset, assoc) do</span>
<span class='curline'><a href='../S/85.html#L1728'>changeset</a>        1728 deps/ecto/lib/ecto/changeset.ex     add_constraint(changeset, :foreign_key, to_string(constraint), assoc, message)</span>
<span class='curline'><a href='../S/85.html#L1747'>changeset</a>        1747 deps/ecto/lib/ecto/changeset.ex   def exclude_constraint(changeset, field, opts \\ []) do</span>
<span class='curline'><a href='../S/85.html#L1748'>changeset</a>        1748 deps/ecto/lib/ecto/changeset.ex     constraint = opts[:name] || "#{get_source(changeset)}_#{field}_exclusion"</span>
<span class='curline'><a href='../S/85.html#L1750'>changeset</a>        1750 deps/ecto/lib/ecto/changeset.ex     add_constraint(changeset, :exclude, to_string(constraint), field, message)</span>
<span class='curline'><a href='../S/85.html#L1756'>changeset</a>        1756 deps/ecto/lib/ecto/changeset.ex   defp add_constraint(changeset, type, constraint, field, message)</span>
<span class='curline'><a href='../S/85.html#L1758'>changeset</a>        1758 deps/ecto/lib/ecto/changeset.ex     update_in changeset.constraints, &amp;[%{type: type, constraint: constraint,</span>
<span class='curline'><a href='../S/85.html#L1819'>changeset</a>        1819 deps/ecto/lib/ecto/changeset.ex         if changeset = Map.get(changes, field) do</span>
<span class='curline'><a href='../S/85.html#L1820'>changeset</a>        1820 deps/ecto/lib/ecto/changeset.ex           Map.put(acc, field, traverse_errors(changeset, msg_func))</span>
<span class='curline'><a href='../S/84.html#L53'>changeset</a>          53 deps/ecto/lib/ecto/changeset/relation.ex   def on_repo_action(changeset, related, _adapter, _repo, _opts) when related == %{} do</span>
<span class='curline'><a href='../S/84.html#L54'>changeset</a>          54 deps/ecto/lib/ecto/changeset/relation.ex     {:ok, changeset}</span>
<span class='curline'><a href='../S/84.html#L57'>changeset</a>          57 deps/ecto/lib/ecto/changeset/relation.ex   def on_repo_action(changeset, related, adapter, repo, opts) do</span>
<span class='curline'><a href='../S/84.html#L58'>changeset</a>          58 deps/ecto/lib/ecto/changeset/relation.ex     %Changeset{types: types, model: model, changes: changes, action: action} = changeset</span>
<span class='curline'><a href='../S/84.html#L61'>changeset</a>          61 deps/ecto/lib/ecto/changeset/relation.ex       Enum.reduce(related, {model, changes, true}, fn {field, changeset}, acc -&gt;</span>
<span class='curline'><a href='../S/84.html#L64'>changeset</a>          64 deps/ecto/lib/ecto/changeset/relation.ex             on_repo_action(related, field, changeset, adapter, repo, action, opts, acc)</span>
<span class='curline'><a href='../S/84.html#L73'>changeset</a>          73 deps/ecto/lib/ecto/changeset/relation.ex       {:ok, %{changeset | model: model}}</span>
<span class='curline'><a href='../S/84.html#L75'>changeset</a>          75 deps/ecto/lib/ecto/changeset/relation.ex       {:error, %{changeset | changes: changes}}</span>
<span class='curline'><a href='../S/84.html#L84'>changeset</a>          84 deps/ecto/lib/ecto/changeset/relation.ex   defp on_repo_action(%{cardinality: :one} = meta, field, changeset,</span>
<span class='curline'><a href='../S/84.html#L86'>changeset</a>          86 deps/ecto/lib/ecto/changeset/relation.ex     case meta.__struct__.on_repo_action(meta, changeset, parent, adapter, repo, action, opts) do</span>
<span class='curline'><a href='../S/84.html#L88'>changeset</a>          88 deps/ecto/lib/ecto/changeset/relation.ex         {Map.put(parent, field, model), Map.put(changes, field, changeset), valid?}</span>
<span class='curline'><a href='../S/84.html#L89'>changeset</a>          89 deps/ecto/lib/ecto/changeset/relation.ex       {:error, changeset} -&gt;</span>
<span class='curline'><a href='../S/84.html#L90'>changeset</a>          90 deps/ecto/lib/ecto/changeset/relation.ex         {parent, Map.put(changes, field, changeset), false}</span>
<span class='curline'><a href='../S/84.html#L97'>changeset</a>          97 deps/ecto/lib/ecto/changeset/relation.ex       Enum.map_reduce(changesets, {[], true}, fn changeset, {models, models_valid?} -&gt;</span>
<span class='curline'><a href='../S/84.html#L98'>changeset</a>          98 deps/ecto/lib/ecto/changeset/relation.ex         case meta.__struct__.on_repo_action(meta, changeset, parent, adapter, repo, action, opts) do</span>
<span class='curline'><a href='../S/84.html#L100'>changeset</a>         100 deps/ecto/lib/ecto/changeset/relation.ex             {changeset, {models, models_valid?}}</span>
<span class='curline'><a href='../S/84.html#L102'>changeset</a>         102 deps/ecto/lib/ecto/changeset/relation.ex             {changeset, {[model | models], models_valid?}}</span>
<span class='curline'><a href='../S/84.html#L103'>changeset</a>         103 deps/ecto/lib/ecto/changeset/relation.ex           {:error, changeset} -&gt;</span>
<span class='curline'><a href='../S/84.html#L104'>changeset</a>         104 deps/ecto/lib/ecto/changeset/relation.ex             {changeset, {models, false}}</span>
<span class='curline'><a href='../S/84.html#L122'>changeset</a>         122 deps/ecto/lib/ecto/changeset/relation.ex   def apply_changes(%{cardinality: :one}, changeset) do</span>
<span class='curline'><a href='../S/84.html#L123'>changeset</a>         123 deps/ecto/lib/ecto/changeset/relation.ex     apply_changes(changeset)</span>
<span class='curline'><a href='../S/84.html#L127'>changeset</a>         127 deps/ecto/lib/ecto/changeset/relation.ex     for changeset &lt;- changesets,</span>
<span class='curline'><a href='../S/84.html#L128'>changeset</a>         128 deps/ecto/lib/ecto/changeset/relation.ex       model = apply_changes(changeset),</span>
<span class='curline'><a href='../S/84.html#L133'>changeset</a>         133 deps/ecto/lib/ecto/changeset/relation.ex   defp apply_changes(changeset), do: Changeset.apply_changes(changeset)</span>
<span class='curline'><a href='../S/84.html#L219'>changeset</a>         219 deps/ecto/lib/ecto/changeset/relation.ex     changeset = Changeset.change(struct)</span>
<span class='curline'><a href='../S/84.html#L220'>changeset</a>         220 deps/ecto/lib/ecto/changeset/relation.ex     struct    = changeset.model</span>
<span class='curline'><a href='../S/84.html#L221'>changeset</a>         221 deps/ecto/lib/ecto/changeset/relation.ex     types     = changeset.types</span>
<span class='curline'><a href='../S/84.html#L237'>changeset</a>         237 deps/ecto/lib/ecto/changeset/relation.ex     {:ok, changeset.changes</span>
<span class='curline'><a href='../S/84.html#L246'>changeset</a>         246 deps/ecto/lib/ecto/changeset/relation.ex   defp do_change(_relation, %Changeset{model: current} = changeset, current) do</span>
<span class='curline'><a href='../S/84.html#L247'>changeset</a>         247 deps/ecto/lib/ecto/changeset/relation.ex     {:ok, put_new_action(changeset, :update)}</span>
<span class='curline'><a href='../S/84.html#L266'>changeset</a>         266 deps/ecto/lib/ecto/changeset/relation.ex         {action, changeset} =</span>
<span class='curline'><a href='../S/84.html#L268'>changeset</a>         268 deps/ecto/lib/ecto/changeset/relation.ex         {:ok, put_new_action(changeset, action)}</span>
<span class='curline'><a href='../S/84.html#L332'>changeset</a>         332 deps/ecto/lib/ecto/changeset/relation.ex       {:ok, changeset} -&gt;</span>
<span class='curline'><a href='../S/84.html#L333'>changeset</a>         333 deps/ecto/lib/ecto/changeset/relation.ex         map_changes(rest, pks, fun, current, [changeset | acc],</span>
<span class='curline'><a href='../S/84.html#L334'>changeset</a>         334 deps/ecto/lib/ecto/changeset/relation.ex                     valid? &amp;&amp; changeset.valid?, skip? &amp;&amp; skip?(changeset))</span>
<span class='curline'><a href='../S/84.html#L350'>changeset</a>         350 deps/ecto/lib/ecto/changeset/relation.ex       {:ok, changeset} -&gt;</span>
<span class='curline'><a href='../S/84.html#L351'>changeset</a>         351 deps/ecto/lib/ecto/changeset/relation.ex         reduce_delete_changesets(rest, fun, [changeset | acc],</span>
<span class='curline'><a href='../S/84.html#L352'>changeset</a>         352 deps/ecto/lib/ecto/changeset/relation.ex                                  valid? &amp;&amp; changeset.valid?,</span>
<span class='curline'><a href='../S/84.html#L353'>changeset</a>         353 deps/ecto/lib/ecto/changeset/relation.ex                                  skip? &amp;&amp; skip?(changeset))</span>
<span class='curline'><a href='../S/84.html#L384'>changeset</a>         384 deps/ecto/lib/ecto/changeset/relation.ex       {:ok, changeset} -&gt;</span>
<span class='curline'><a href='../S/84.html#L385'>changeset</a>         385 deps/ecto/lib/ecto/changeset/relation.ex         {:ok, changeset, changeset.valid?, skip?(changeset)}</span>
<span class='curline'><a href='../S/84.html#L393'>changeset</a>         393 deps/ecto/lib/ecto/changeset/relation.ex       {:ok, changeset} -&gt;</span>
<span class='curline'><a href='../S/84.html#L394'>changeset</a>         394 deps/ecto/lib/ecto/changeset/relation.ex         action = changeset.action</span>
<span class='curline'><a href='../S/84.html#L397'>changeset</a>         397 deps/ecto/lib/ecto/changeset/relation.ex           {:ok, changeset}</span>
<span class='curline'><a href='../S/84.html#L400'>changeset</a>         400 deps/ecto/lib/ecto/changeset/relation.ex           raise "cannot #{action} related #{inspect changeset.model} " &lt;&gt;</span>
<span class='curline'><a href='../S/84.html#L429'>changeset</a>         429 deps/ecto/lib/ecto/changeset/relation.ex   defp put_new_action(%{action: action} = changeset, new_action) when is_nil(action),</span>
<span class='curline'><a href='../S/84.html#L430'>changeset</a>         430 deps/ecto/lib/ecto/changeset/relation.ex     do: Map.put(changeset, :action, new_action)</span>
<span class='curline'><a href='../S/84.html#L431'>changeset</a>         431 deps/ecto/lib/ecto/changeset/relation.ex   defp put_new_action(changeset, _new_action),</span>
<span class='curline'><a href='../S/84.html#L432'>changeset</a>         432 deps/ecto/lib/ecto/changeset/relation.ex     do: changeset</span>
<span class='curline'><a href='../S/88.html#L48'>changeset</a>          48 deps/ecto/lib/ecto/embedded.ex   def prepare(changeset, [], _adapter, _repo_action), do: changeset</span>
<span class='curline'><a href='../S/88.html#L50'>changeset</a>          50 deps/ecto/lib/ecto/embedded.ex   def prepare(changeset, embeds, adapter, repo_action) do</span>
<span class='curline'><a href='../S/88.html#L51'>changeset</a>          51 deps/ecto/lib/ecto/embedded.ex     types     = changeset.types</span>
<span class='curline'><a href='../S/88.html#L52'>changeset</a>          52 deps/ecto/lib/ecto/embedded.ex     changeset = merge_delete_changes(changeset, embeds, types, repo_action)</span>
<span class='curline'><a href='../S/88.html#L54'>changeset</a>          54 deps/ecto/lib/ecto/embedded.ex     update_in changeset.changes, fn changes -&gt;</span>
<span class='curline'><a href='../S/88.html#L57'>changeset</a>          57 deps/ecto/lib/ecto/embedded.ex           {:ok, changeset} -&gt;</span>
<span class='curline'><a href='../S/88.html#L59'>changeset</a>          59 deps/ecto/lib/ecto/embedded.ex             Map.put(changes, name, prepare_each(embed, changeset, adapter, repo_action))</span>
<span class='curline'><a href='../S/88.html#L67'>changeset</a>          67 deps/ecto/lib/ecto/embedded.ex   defp merge_delete_changes(changeset, embeds, types, :delete) do</span>
<span class='curline'><a href='../S/88.html#L68'>changeset</a>          68 deps/ecto/lib/ecto/embedded.ex     Enum.reduce(embeds, changeset, fn field, acc -&gt;</span>
<span class='curline'><a href='../S/88.html#L74'>changeset</a>          74 deps/ecto/lib/ecto/embedded.ex   defp merge_delete_changes(changeset, _, _, _), do: changeset</span>
<span class='curline'><a href='../S/88.html#L80'>changeset</a>          80 deps/ecto/lib/ecto/embedded.ex   defp prepare_each(%{cardinality: :one} = embed, changeset, adapter, action) do</span>
<span class='curline'><a href='../S/88.html#L81'>changeset</a>          81 deps/ecto/lib/ecto/embedded.ex     check_action!(changeset.action, action, embed)</span>
<span class='curline'><a href='../S/88.html#L82'>changeset</a>          82 deps/ecto/lib/ecto/embedded.ex     prepare_each(changeset, embed, adapter)</span>
<span class='curline'><a href='../S/88.html#L86'>changeset</a>          86 deps/ecto/lib/ecto/embedded.ex     for changeset &lt;- changesets do</span>
<span class='curline'><a href='../S/88.html#L87'>changeset</a>          87 deps/ecto/lib/ecto/embedded.ex       check_action!(changeset.action, action, embed)</span>
<span class='curline'><a href='../S/88.html#L88'>changeset</a>          88 deps/ecto/lib/ecto/embedded.ex       prepare_each(changeset, embed, adapter)</span>
<span class='curline'><a href='../S/88.html#L97'>changeset</a>          97 deps/ecto/lib/ecto/embedded.ex   defp prepare_each(%Changeset{action: :update, changes: changes} = changeset,</span>
<span class='curline'><a href='../S/88.html#L99'>changeset</a>          99 deps/ecto/lib/ecto/embedded.ex     changeset</span>
<span class='curline'><a href='../S/88.html#L102'>changeset</a>         102 deps/ecto/lib/ecto/embedded.ex   defp prepare_each(%Changeset{model: %{__struct__: model}, action: action} = changeset,</span>
<span class='curline'><a href='../S/88.html#L105'>changeset</a>         105 deps/ecto/lib/ecto/embedded.ex     Ecto.Model.Callbacks.__apply__(model, callback, changeset)</span>
<span class='curline'><a href='../S/88.html#L122'>changeset</a>         122 deps/ecto/lib/ecto/embedded.ex   defp autogenerate_id(changeset, :insert, model, embed, adapter) do</span>
<span class='curline'><a href='../S/88.html#L125'>changeset</a>         125 deps/ecto/lib/ecto/embedded.ex         if Map.get(changeset.changes, key) || Map.get(changeset.model, key) do</span>
<span class='curline'><a href='../S/88.html#L126'>changeset</a>         126 deps/ecto/lib/ecto/embedded.ex           changeset</span>
<span class='curline'><a href='../S/88.html#L128'>changeset</a>         128 deps/ecto/lib/ecto/embedded.ex           update_in changeset.changes, &amp;Map.put(&amp;1, key, adapter.embed_id(embed))</span>
<span class='curline'><a href='../S/88.html#L136'>changeset</a>         136 deps/ecto/lib/ecto/embedded.ex   defp autogenerate_id(changeset, action, _model, _embed, _adapter) when action in [:update, :delete] do</span>
<span class='curline'><a href='../S/88.html#L137'>changeset</a>         137 deps/ecto/lib/ecto/embedded.ex     for {_, nil} &lt;- Ecto.primary_key(changeset.model) do</span>
<span class='curline'><a href='../S/88.html#L138'>changeset</a>         138 deps/ecto/lib/ecto/embedded.ex       raise Ecto.NoPrimaryKeyValueError, struct: changeset.model</span>
<span class='curline'><a href='../S/88.html#L140'>changeset</a>         140 deps/ecto/lib/ecto/embedded.ex     changeset</span>
<span class='curline'><a href='../S/88.html#L143'>changeset</a>         143 deps/ecto/lib/ecto/embedded.ex   defp autogenerate(changeset, :delete, _model, _adapter) do</span>
<span class='curline'><a href='../S/88.html#L144'>changeset</a>         144 deps/ecto/lib/ecto/embedded.ex     changeset</span>
<span class='curline'><a href='../S/88.html#L147'>changeset</a>         147 deps/ecto/lib/ecto/embedded.ex   defp autogenerate(%{types: types} = changeset, action, model, adapter) do</span>
<span class='curline'><a href='../S/88.html#L148'>changeset</a>         148 deps/ecto/lib/ecto/embedded.ex     update_in changeset.changes, fn changes -&gt;</span>
<span class='curline'><a href='../S/88.html#L175'>changeset</a>         175 deps/ecto/lib/ecto/embedded.ex   def on_replace(%Embedded{on_replace: :delete}, changeset) do</span>
<span class='curline'><a href='../S/88.html#L176'>changeset</a>         176 deps/ecto/lib/ecto/embedded.ex     {:delete, changeset}</span>
<span class='curline'><a href='../S/88.html#L181'>changeset</a>         181 deps/ecto/lib/ecto/embedded.ex                      changeset, parent, adapter, repo, _repo_action, opts) do</span>
<span class='curline'><a href='../S/88.html#L182'>changeset</a>         182 deps/ecto/lib/ecto/embedded.ex     changeset = on_repo_action(changeset, model, adapter, repo, opts)</span>
<span class='curline'><a href='../S/88.html#L183'>changeset</a>         183 deps/ecto/lib/ecto/embedded.ex     maybe_replace_one!(embed, changeset.action, Map.get(parent, field))</span>
<span class='curline'><a href='../S/88.html#L185'>changeset</a>         185 deps/ecto/lib/ecto/embedded.ex     {:ok, apply_changes(changeset)}</span>
<span class='curline'><a href='../S/88.html#L188'>changeset</a>         188 deps/ecto/lib/ecto/embedded.ex   defp on_repo_action(%Changeset{action: :update, changes: changes} = changeset,</span>
<span class='curline'><a href='../S/88.html#L190'>changeset</a>         190 deps/ecto/lib/ecto/embedded.ex     changeset</span>
<span class='curline'><a href='../S/88.html#L193'>changeset</a>         193 deps/ecto/lib/ecto/embedded.ex   defp on_repo_action(%Changeset{action: action, changes: changes} = changeset,</span>
<span class='curline'><a href='../S/88.html#L197'>changeset</a>         197 deps/ecto/lib/ecto/embedded.ex     {:ok, changeset} =</span>
<span class='curline'><a href='../S/88.html#L198'>changeset</a>         198 deps/ecto/lib/ecto/embedded.ex       Ecto.Changeset.Relation.on_repo_action(changeset, related, adapter, repo, opts)</span>
<span class='curline'><a href='../S/88.html#L199'>changeset</a>         199 deps/ecto/lib/ecto/embedded.ex     Ecto.Model.Callbacks.__apply__(model, callback, changeset)</span>
<span class='curline'><a href='../S/88.html#L203'>changeset</a>         203 deps/ecto/lib/ecto/embedded.ex     changeset = Changeset.change(current)</span>
<span class='curline'><a href='../S/88.html#L204'>changeset</a>         204 deps/ecto/lib/ecto/embedded.ex     changeset = Ecto.Model.Callbacks.__apply__(model, :before_delete, changeset)</span>
<span class='curline'><a href='../S/88.html#L205'>changeset</a>         205 deps/ecto/lib/ecto/embedded.ex     Ecto.Model.Callbacks.__apply__(model, :after_delete, changeset)</span>
<span class='curline'><a href='../S/88.html#L211'>changeset</a>         211 deps/ecto/lib/ecto/embedded.ex   defp apply_changes(changeset) do</span>
<span class='curline'><a href='../S/88.html#L212'>changeset</a>         212 deps/ecto/lib/ecto/embedded.ex     model = Changeset.apply_changes(changeset)</span>
<span class='curline'><a href='../S/89.html#L39'>changeset</a>          39 deps/ecto/lib/ecto/exceptions.ex   def message(%{action: action, changeset: changeset}) do</span>
<span class='curline'><a href='../S/89.html#L45'>changeset</a>          45 deps/ecto/lib/ecto/exceptions.ex     #{inspect changeset.changes}</span>
<span class='curline'><a href='../S/89.html#L49'>changeset</a>          49 deps/ecto/lib/ecto/exceptions.ex     #{inspect changeset.params}</span>
<span class='curline'><a href='../S/89.html#L53'>changeset</a>          53 deps/ecto/lib/ecto/exceptions.ex     #{inspect changeset.errors}</span>
<span class='curline'><a href='../S/89.html#L179'>changeset</a>         179 deps/ecto/lib/ecto/exceptions.ex     changeset = Keyword.fetch!(opts, :changeset)</span>
<span class='curline'><a href='../S/89.html#L183'>changeset</a>         183 deps/ecto/lib/ecto/exceptions.ex       case changeset.constraints do</span>
<span class='curline'><a href='../S/96.html#L21'>changeset</a>          21 deps/ecto/lib/ecto/model/callbacks.ex                          quote(do: changeset), &amp;compile_callback/2</span>
<span class='curline'><a href='../S/96.html#L24'>changeset</a>          24 deps/ecto/lib/ecto/model/callbacks.ex         def unquote(event)(changeset), do: unquote(body)</span>
<span class='curline'><a href='../S/129.html#L139'>changeset</a>         139 deps/ecto/lib/ecto/repo.ex       def insert_or_update(changeset, opts \\ []) do</span>
<span class='curline'><a href='../S/129.html#L140'>changeset</a>         140 deps/ecto/lib/ecto/repo.ex         Ecto.Repo.Schema.insert_or_update(__MODULE__, @adapter, changeset, opts)</span>
<span class='curline'><a href='../S/129.html#L155'>changeset</a>         155 deps/ecto/lib/ecto/repo.ex       def insert_or_update!(changeset, opts \\ []) do</span>
<span class='curline'><a href='../S/129.html#L156'>changeset</a>         156 deps/ecto/lib/ecto/repo.ex         Ecto.Repo.Schema.insert_or_update!(__MODULE__, @adapter, changeset, opts)</span>
<span class='curline'><a href='../S/127.html#L16'>changeset</a>          16 deps/ecto/lib/ecto/repo/schema.ex       {:error, changeset} -&gt;</span>
<span class='curline'><a href='../S/127.html#L17'>changeset</a>          17 deps/ecto/lib/ecto/repo/schema.ex         raise Ecto.InvalidChangesetError, action: :insert, changeset: changeset</span>
<span class='curline'><a href='../S/127.html#L27'>changeset</a>          27 deps/ecto/lib/ecto/repo/schema.ex       {:error, changeset} -&gt;</span>
<span class='curline'><a href='../S/127.html#L28'>changeset</a>          28 deps/ecto/lib/ecto/repo/schema.ex         raise Ecto.InvalidChangesetError, action: :update, changeset: changeset</span>
<span class='curline'><a href='../S/127.html#L38'>changeset</a>          38 deps/ecto/lib/ecto/repo/schema.ex       {:error, changeset} -&gt;</span>
<span class='curline'><a href='../S/127.html#L39'>changeset</a>          39 deps/ecto/lib/ecto/repo/schema.ex         raise Ecto.InvalidChangesetError, action: :delete, changeset: changeset</span>
<span class='curline'><a href='../S/127.html#L46'>changeset</a>          46 deps/ecto/lib/ecto/repo/schema.ex   def insert(repo, adapter, %Changeset{} = changeset, opts) when is_list(opts) do</span>
<span class='curline'><a href='../S/127.html#L47'>changeset</a>          47 deps/ecto/lib/ecto/repo/schema.ex     do_insert(repo, adapter, changeset, opts)</span>
<span class='curline'><a href='../S/127.html#L51'>changeset</a>          51 deps/ecto/lib/ecto/repo/schema.ex     changeset = Ecto.Changeset.change(struct)</span>
<span class='curline'><a href='../S/127.html#L52'>changeset</a>          52 deps/ecto/lib/ecto/repo/schema.ex     do_insert(repo, adapter, changeset, opts)</span>
<span class='curline'><a href='../S/127.html#L55'>changeset</a>          55 deps/ecto/lib/ecto/repo/schema.ex   defp do_insert(repo, adapter, %Changeset{valid?: true, prepare: prepare} = changeset, opts) do</span>
<span class='curline'><a href='../S/127.html#L56'>changeset</a>          56 deps/ecto/lib/ecto/repo/schema.ex     struct = struct_from_changeset!(:insert, changeset)</span>
<span class='curline'><a href='../S/127.html#L66'>changeset</a>          66 deps/ecto/lib/ecto/repo/schema.ex     changeset = update_changeset(changeset, :insert, repo)</span>
<span class='curline'><a href='../S/127.html#L67'>changeset</a>          67 deps/ecto/lib/ecto/repo/schema.ex     changeset = insert_changes(struct, fields, embeds, assocs, changeset)</span>
<span class='curline'><a href='../S/127.html#L71'>changeset</a>          71 deps/ecto/lib/ecto/repo/schema.ex       changeset = run_prepare(changeset, prepare)</span>
<span class='curline'><a href='../S/127.html#L72'>changeset</a>          72 deps/ecto/lib/ecto/repo/schema.ex       user_changeset = Callbacks.__apply__(model, :before_insert, changeset)</span>
<span class='curline'><a href='../S/127.html#L74'>changeset</a>          74 deps/ecto/lib/ecto/repo/schema.ex       changeset = Ecto.Embedded.prepare(user_changeset, embeds, adapter, :insert)</span>
<span class='curline'><a href='../S/127.html#L75'>changeset</a>          75 deps/ecto/lib/ecto/repo/schema.ex       {assoc_changes, changeset} = pop_from_changes(changeset, assocs)</span>
<span class='curline'><a href='../S/127.html#L76'>changeset</a>          76 deps/ecto/lib/ecto/repo/schema.ex       {autogen, changes} = pop_autogenerate_id(changeset.changes, model)</span>
<span class='curline'><a href='../S/127.html#L78'>changeset</a>          78 deps/ecto/lib/ecto/repo/schema.ex       {embed_changes, changeset} = pop_from_changes(changeset, embeds)</span>
<span class='curline'><a href='../S/127.html#L81'>changeset</a>          81 deps/ecto/lib/ecto/repo/schema.ex       case apply(changeset, adapter, :insert, extra, args) do</span>
<span class='curline'><a href='../S/127.html#L82'>changeset</a>          82 deps/ecto/lib/ecto/repo/schema.ex         {:ok, changeset} -&gt;</span>
<span class='curline'><a href='../S/127.html#L84'>changeset</a>          84 deps/ecto/lib/ecto/repo/schema.ex           changeset</span>
<span class='curline'><a href='../S/127.html#L94'>changeset</a>          94 deps/ecto/lib/ecto/repo/schema.ex   defp do_insert(repo, _adapter, %Changeset{valid?: false} = changeset, _opts) do</span>
<span class='curline'><a href='../S/127.html#L95'>changeset</a>          95 deps/ecto/lib/ecto/repo/schema.ex     {:error, update_changeset(changeset, :insert, repo)}</span>
<span class='curline'><a href='../S/127.html#L101'>changeset</a>         101 deps/ecto/lib/ecto/repo/schema.ex   def update(repo, adapter, %Changeset{} = changeset, opts) when is_list(opts) do</span>
<span class='curline'><a href='../S/127.html#L102'>changeset</a>         102 deps/ecto/lib/ecto/repo/schema.ex     do_update(repo, adapter, changeset, opts)</span>
<span class='curline'><a href='../S/127.html#L116'>changeset</a>         116 deps/ecto/lib/ecto/repo/schema.ex     changeset =</span>
<span class='curline'><a href='../S/127.html#L121'>changeset</a>         121 deps/ecto/lib/ecto/repo/schema.ex     do_update(repo, adapter, changeset, opts)</span>
<span class='curline'><a href='../S/127.html#L124'>changeset</a>         124 deps/ecto/lib/ecto/repo/schema.ex   defp do_update(repo, adapter, %Changeset{valid?: true, prepare: prepare} = changeset, opts) do</span>
<span class='curline'><a href='../S/127.html#L125'>changeset</a>         125 deps/ecto/lib/ecto/repo/schema.ex     struct = struct_from_changeset!(:update, changeset)</span>
<span class='curline'><a href='../S/127.html#L135'>changeset</a>         135 deps/ecto/lib/ecto/repo/schema.ex     changeset = update_changeset(changeset, :update, repo)</span>
<span class='curline'><a href='../S/127.html#L137'>changeset</a>         137 deps/ecto/lib/ecto/repo/schema.ex     if changeset.changes != %{} or opts[:force] do</span>
<span class='curline'><a href='../S/127.html#L140'>changeset</a>         140 deps/ecto/lib/ecto/repo/schema.ex         changeset = run_prepare(changeset, prepare)</span>
<span class='curline'><a href='../S/127.html#L141'>changeset</a>         141 deps/ecto/lib/ecto/repo/schema.ex         user_changeset = Callbacks.__apply__(model, :before_update, changeset)</span>
<span class='curline'><a href='../S/127.html#L143'>changeset</a>         143 deps/ecto/lib/ecto/repo/schema.ex         changeset = Ecto.Embedded.prepare(user_changeset, embeds, adapter, :update)</span>
<span class='curline'><a href='../S/127.html#L144'>changeset</a>         144 deps/ecto/lib/ecto/repo/schema.ex         {assoc_changes, changeset} = pop_from_changes(changeset, assocs)</span>
<span class='curline'><a href='../S/127.html#L145'>changeset</a>         145 deps/ecto/lib/ecto/repo/schema.ex         autogen = get_autogenerate_id(changeset.changes, model)</span>
<span class='curline'><a href='../S/127.html#L146'>changeset</a>         146 deps/ecto/lib/ecto/repo/schema.ex         {changes, extra} = dump_changes(:update, changeset.changes, model, fields, adapter)</span>
<span class='curline'><a href='../S/127.html#L147'>changeset</a>         147 deps/ecto/lib/ecto/repo/schema.ex         {embed_changes, changeset} = pop_from_changes(changeset, embeds)</span>
<span class='curline'><a href='../S/127.html#L149'>changeset</a>         149 deps/ecto/lib/ecto/repo/schema.ex         filters = add_pk_filter!(changeset.filters, struct)</span>
<span class='curline'><a href='../S/127.html#L154'>changeset</a>         154 deps/ecto/lib/ecto/repo/schema.ex         case apply(changeset, adapter, action, extra, args) do</span>
<span class='curline'><a href='../S/127.html#L155'>changeset</a>         155 deps/ecto/lib/ecto/repo/schema.ex           {:ok, changeset} -&gt;</span>
<span class='curline'><a href='../S/127.html#L157'>changeset</a>         157 deps/ecto/lib/ecto/repo/schema.ex             changeset</span>
<span class='curline'><a href='../S/127.html#L166'>changeset</a>         166 deps/ecto/lib/ecto/repo/schema.ex       {:ok, changeset.model}</span>
<span class='curline'><a href='../S/127.html#L170'>changeset</a>         170 deps/ecto/lib/ecto/repo/schema.ex   defp do_update(repo, _adapter, %Changeset{valid?: false} = changeset, _opts) do</span>
<span class='curline'><a href='../S/127.html#L171'>changeset</a>         171 deps/ecto/lib/ecto/repo/schema.ex     {:error, update_changeset(changeset, :update, repo)}</span>
<span class='curline'><a href='../S/127.html#L177'>changeset</a>         177 deps/ecto/lib/ecto/repo/schema.ex   def insert_or_update(repo, adapter, changeset, opts) do</span>
<span class='curline'><a href='../S/127.html#L178'>changeset</a>         178 deps/ecto/lib/ecto/repo/schema.ex     case get_state(changeset) do</span>
<span class='curline'><a href='../S/127.html#L179'>changeset</a>         179 deps/ecto/lib/ecto/repo/schema.ex       :built  -&gt; insert repo, adapter, changeset, opts</span>
<span class='curline'><a href='../S/127.html#L180'>changeset</a>         180 deps/ecto/lib/ecto/repo/schema.ex       :loaded -&gt; update repo, adapter, changeset, opts</span>
<span class='curline'><a href='../S/127.html#L189'>changeset</a>         189 deps/ecto/lib/ecto/repo/schema.ex   def insert_or_update!(repo, adapter, changeset, opts) do</span>
<span class='curline'><a href='../S/127.html#L190'>changeset</a>         190 deps/ecto/lib/ecto/repo/schema.ex     case get_state(changeset) do</span>
<span class='curline'><a href='../S/127.html#L191'>changeset</a>         191 deps/ecto/lib/ecto/repo/schema.ex       :built  -&gt; insert! repo, adapter, changeset, opts</span>
<span class='curline'><a href='../S/127.html#L192'>changeset</a>         192 deps/ecto/lib/ecto/repo/schema.ex       :loaded -&gt; update! repo, adapter, changeset, opts</span>
<span class='curline'><a href='../S/127.html#L208'>changeset</a>         208 deps/ecto/lib/ecto/repo/schema.ex   def delete(repo, adapter, %Changeset{} = changeset, opts) when is_list(opts) do</span>
<span class='curline'><a href='../S/127.html#L209'>changeset</a>         209 deps/ecto/lib/ecto/repo/schema.ex     do_delete(repo, adapter, changeset, opts)</span>
<span class='curline'><a href='../S/127.html#L213'>changeset</a>         213 deps/ecto/lib/ecto/repo/schema.ex     changeset = Ecto.Changeset.change(struct)</span>
<span class='curline'><a href='../S/127.html#L214'>changeset</a>         214 deps/ecto/lib/ecto/repo/schema.ex     do_delete(repo, adapter, changeset, opts)</span>
<span class='curline'><a href='../S/127.html#L217'>changeset</a>         217 deps/ecto/lib/ecto/repo/schema.ex   defp do_delete(repo, adapter, %Changeset{valid?: true, prepare: prepare} = changeset, opts) do</span>
<span class='curline'><a href='../S/127.html#L218'>changeset</a>         218 deps/ecto/lib/ecto/repo/schema.ex     struct = struct_from_changeset!(:delete, changeset)</span>
<span class='curline'><a href='../S/127.html#L223'>changeset</a>         223 deps/ecto/lib/ecto/repo/schema.ex     changeset = update_changeset(changeset, :delete, repo)</span>
<span class='curline'><a href='../S/127.html#L224'>changeset</a>         224 deps/ecto/lib/ecto/repo/schema.ex     changeset = %{changeset | changes: %{}}</span>
<span class='curline'><a href='../S/127.html#L225'>changeset</a>         225 deps/ecto/lib/ecto/repo/schema.ex     autogen   = get_autogenerate_id(changeset, model)</span>
<span class='curline'><a href='../S/127.html#L229'>changeset</a>         229 deps/ecto/lib/ecto/repo/schema.ex       changeset = run_prepare(changeset, prepare)</span>
<span class='curline'><a href='../S/127.html#L230'>changeset</a>         230 deps/ecto/lib/ecto/repo/schema.ex       delete_assocs(changeset, repo, model, assocs)</span>
<span class='curline'><a href='../S/127.html#L231'>changeset</a>         231 deps/ecto/lib/ecto/repo/schema.ex       user_changeset = Callbacks.__apply__(model, :before_delete, changeset)</span>
<span class='curline'><a href='../S/127.html#L234'>changeset</a>         234 deps/ecto/lib/ecto/repo/schema.ex       changeset = user_changeset</span>
<span class='curline'><a href='../S/127.html#L236'>changeset</a>         236 deps/ecto/lib/ecto/repo/schema.ex         changeset</span>
<span class='curline'><a href='../S/127.html#L241'>changeset</a>         241 deps/ecto/lib/ecto/repo/schema.ex       filters = add_pk_filter!(changeset.filters, struct)</span>
<span class='curline'><a href='../S/127.html#L245'>changeset</a>         245 deps/ecto/lib/ecto/repo/schema.ex       case apply(changeset, adapter, :delete, [], args) do</span>
<span class='curline'><a href='../S/127.html#L246'>changeset</a>         246 deps/ecto/lib/ecto/repo/schema.ex         {:ok, changeset} -&gt;</span>
<span class='curline'><a href='../S/127.html#L251'>changeset</a>         251 deps/ecto/lib/ecto/repo/schema.ex           _ = process_embeds(changeset, embeds, adapter, repo, opts)</span>
<span class='curline'><a href='../S/127.html#L252'>changeset</a>         252 deps/ecto/lib/ecto/repo/schema.ex           maybe_process_after({:ok, changeset}, user_changeset, model, :after_delete)</span>
<span class='curline'><a href='../S/127.html#L259'>changeset</a>         259 deps/ecto/lib/ecto/repo/schema.ex   defp do_delete(repo, _adapter, %Changeset{valid?: false} = changeset, _opts) do</span>
<span class='curline'><a href='../S/127.html#L260'>changeset</a>         260 deps/ecto/lib/ecto/repo/schema.ex     {:error, update_changeset(changeset, :delete, repo)}</span>
<span class='curline'><a href='../S/127.html#L272'>changeset</a>         272 deps/ecto/lib/ecto/repo/schema.ex   defp update_changeset(changeset, action, repo),</span>
<span class='curline'><a href='../S/127.html#L273'>changeset</a>         273 deps/ecto/lib/ecto/repo/schema.ex     do: %{changeset | action: action, repo: repo}</span>
<span class='curline'><a href='../S/127.html#L275'>changeset</a>         275 deps/ecto/lib/ecto/repo/schema.ex   defp run_prepare(changeset, prepare) do</span>
<span class='curline'><a href='../S/127.html#L276'>changeset</a>         276 deps/ecto/lib/ecto/repo/schema.ex     Enum.reduce(Enum.reverse(prepare), changeset, fn fun, acc -&gt;</span>
<span class='curline'><a href='../S/127.html#L292'>changeset</a>         292 deps/ecto/lib/ecto/repo/schema.ex   defp apply(changeset, _adapter, :noop, _extra, _args) do</span>
<span class='curline'><a href='../S/127.html#L293'>changeset</a>         293 deps/ecto/lib/ecto/repo/schema.ex     {:ok, changeset}</span>
<span class='curline'><a href='../S/127.html#L296'>changeset</a>         296 deps/ecto/lib/ecto/repo/schema.ex   defp apply(changeset, adapter, action, extra, args) do</span>
<span class='curline'><a href='../S/127.html#L299'>changeset</a>         299 deps/ecto/lib/ecto/repo/schema.ex         {:ok, load_changes(changeset, action, extra ++ values, adapter)}</span>
<span class='curline'><a href='../S/127.html#L303'>changeset</a>         303 deps/ecto/lib/ecto/repo/schema.ex         raise Ecto.StaleModelError, model: changeset.model, action: action</span>
<span class='curline'><a href='../S/127.html#L307'>changeset</a>         307 deps/ecto/lib/ecto/repo/schema.ex   defp constraints_to_errors(%{constraints: user_constraints} = changeset, action, constraints) do</span>
<span class='curline'><a href='../S/127.html#L308'>changeset</a>         308 deps/ecto/lib/ecto/repo/schema.ex     Enum.reduce constraints, changeset, fn {type, constraint}, acc -&gt;</span>
<span class='curline'><a href='../S/127.html#L319'>changeset</a>         319 deps/ecto/lib/ecto/repo/schema.ex                                       constraint: constraint, changeset: changeset</span>
<span class='curline'><a href='../S/127.html#L324'>changeset</a>         324 deps/ecto/lib/ecto/repo/schema.ex   defp load_changes(%{types: types} = changeset, action, values, adapter) do</span>
<span class='curline'><a href='../S/127.html#L328'>changeset</a>         328 deps/ecto/lib/ecto/repo/schema.ex       changeset</span>
<span class='curline'><a href='../S/127.html#L332'>changeset</a>         332 deps/ecto/lib/ecto/repo/schema.ex     Map.put(changeset, :model, model)</span>
<span class='curline'><a href='../S/127.html#L350'>changeset</a>         350 deps/ecto/lib/ecto/repo/schema.ex   defp insert_changes(struct, fields, embeds, assocs, changeset) do</span>
<span class='curline'><a href='../S/127.html#L351'>changeset</a>         351 deps/ecto/lib/ecto/repo/schema.ex     types = changeset.types</span>
<span class='curline'><a href='../S/127.html#L361'>changeset</a>         361 deps/ecto/lib/ecto/repo/schema.ex     update_in changeset.changes, &amp;Map.merge(base, &amp;1)</span>
<span class='curline'><a href='../S/127.html#L381'>changeset</a>         381 deps/ecto/lib/ecto/repo/schema.ex   defp pop_from_changes(changeset, fields) do</span>
<span class='curline'><a href='../S/127.html#L382'>changeset</a>         382 deps/ecto/lib/ecto/repo/schema.ex     get_and_update_in(changeset.changes, &amp;Map.split(&amp;1, fields))</span>
<span class='curline'><a href='../S/127.html#L385'>changeset</a>         385 deps/ecto/lib/ecto/repo/schema.ex   defp process_embeds(changeset, embeds, adapter, repo, opts) do</span>
<span class='curline'><a href='../S/127.html#L386'>changeset</a>         386 deps/ecto/lib/ecto/repo/schema.ex     {:ok, changeset} =</span>
<span class='curline'><a href='../S/127.html#L387'>changeset</a>         387 deps/ecto/lib/ecto/repo/schema.ex       Ecto.Changeset.Relation.on_repo_action(changeset, embeds, adapter, repo, opts)</span>
<span class='curline'><a href='../S/127.html#L388'>changeset</a>         388 deps/ecto/lib/ecto/repo/schema.ex     changeset</span>
<span class='curline'><a href='../S/127.html#L391'>changeset</a>         391 deps/ecto/lib/ecto/repo/schema.ex   defp process_assocs(changeset, assocs, adapter, repo, opts) do</span>
<span class='curline'><a href='../S/127.html#L392'>changeset</a>         392 deps/ecto/lib/ecto/repo/schema.ex     Ecto.Changeset.Relation.on_repo_action(changeset, assocs, adapter, repo, opts)</span>
<span class='curline'><a href='../S/127.html#L419'>changeset</a>         419 deps/ecto/lib/ecto/repo/schema.ex   defp maybe_process_after({:ok, changeset}, _user_changeset, model, callback) do</span>
<span class='curline'><a href='../S/127.html#L420'>changeset</a>         420 deps/ecto/lib/ecto/repo/schema.ex     {:ok, Callbacks.__apply__(model, callback, changeset).model}</span>
<span class='curline'><a href='../S/127.html#L479'>changeset</a>         479 deps/ecto/lib/ecto/repo/schema.ex           {:error, changeset} -&gt; adapter.rollback(repo, changeset)</span>
<span class='curline'><a href='../S/132.html#L365'>changeset</a>         365 deps/ecto/lib/ecto/type.ex     {:ok, for(changeset &lt;- value,</span>
<span class='curline'><a href='../S/132.html#L366'>changeset</a>         366 deps/ecto/lib/ecto/type.ex               model = dump_embed(field, model, changeset, types, fun),</span>
<span class='curline'><a href='../S/132.html#L378'>changeset</a>         378 deps/ecto/lib/ecto/type.ex   defp dump_embed(_field, model, %Ecto.Changeset{model: %{__struct__: model}} = changeset, types, dumper) do</span>
<span class='curline'><a href='../S/132.html#L379'>changeset</a>         379 deps/ecto/lib/ecto/type.ex     %{model: struct, changes: changes} = changeset</span>
</pre>
</body>
</html>
